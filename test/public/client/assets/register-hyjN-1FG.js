import{c as F,i as U,n as j,t as R,m as T,I as q,J as S,K as E,b as H,x as K,s as M,_ as L,P as J,D as X,B as Y,A as Q,M as W,G as Z}from"./CpNavBar-CrmPb7d6.js";import{C as ee,u as te,p as G,m as oe,c as le}from"./rules-DeeCRmTj.js";import"./index-dtOswf3Q.js";import{F as ae}from"./index-Q4riC8hj.js";import{_ as ne}from"./CpImage.vue_vue_type_script_setup_true_lang-BipI8DzU.js";import{d as B,e as $,a as g,c as y,b as n,w as se,p as re,m as ie,u as de,G as ce,o as ue,l as me,q as u,x as p,y as a,s as P,F as ve,z as fe,H as be,C as pe,_ as ge}from"./index-DxAKgVpU.js";import{F as he}from"./index-ElAgRuIm.js";import"./use-id-BJ_zPNln.js";const[_e,Je]=F("checkbox-group"),ke=Symbol(_e),z={name:U,disabled:Boolean,iconSize:j,modelValue:U,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var xe=B({props:$({},z,{bem:T(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:R,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:l,slots:h}){const v=g(),m=o=>{if(e.parent&&e.bindGroup)return e.parent.props[o]},s=y(()=>{if(e.parent&&e.bindGroup){const o=m("disabled")||e.disabled;if(e.role==="checkbox"){const b=m("modelValue").length,d=m("max"),t=d&&b>=+d;return o||t&&!e.checked}return o}return e.disabled}),_=y(()=>m("direction")),i=y(()=>{const o=e.checkedColor||m("checkedColor");if(o&&e.checked&&!s.value)return{borderColor:o,backgroundColor:o}}),f=y(()=>e.shape||m("shape")||"round"),k=o=>{const{target:b}=o,d=v.value,t=d===b||(d==null?void 0:d.contains(b));!s.value&&(t||!e.labelDisabled)&&l("toggle"),l("click",o)},x=()=>{var o,b;const{bem:d,checked:t,indeterminate:w}=e,C=e.iconSize||m("iconSize");return n("div",{ref:v,class:d("icon",[f.value,{disabled:s.value,checked:t,indeterminate:w}]),style:f.value!=="dot"?{fontSize:S(C)}:{width:S(C),height:S(C),borderColor:(o=i.value)==null?void 0:o.borderColor}},[h.icon?h.icon({checked:t,disabled:s.value}):f.value!=="dot"?n(q,{name:w?"minus":"success",style:i.value},null):n("div",{class:d("icon--dot__icon"),style:{backgroundColor:(b=i.value)==null?void 0:b.backgroundColor}},null)])},c=()=>{const{checked:o}=e;if(h.default)return n("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[h.default({checked:o,disabled:s.value})])};return()=>{const o=e.labelPosition==="left"?[c(),x()]:[x(),c()];return n("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},_.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:k},[o])}}});const[Ce,Ve]=F("checkbox"),ye=$({},z,{shape:String,bindGroup:R,indeterminate:{type:Boolean,default:null}});var we=B({name:Ce,props:ye,emits:["change","update:modelValue"],setup(e,{emit:l,slots:h}){const{parent:v}=E(ke),m=i=>{const{name:f}=e,{max:k,modelValue:x}=v.props,c=x.slice();if(i)!(k&&c.length>=+k)&&!c.includes(f)&&(c.push(f),e.bindGroup&&v.updateValue(c));else{const o=c.indexOf(f);o!==-1&&(c.splice(o,1),e.bindGroup&&v.updateValue(c))}},s=y(()=>v&&e.bindGroup?v.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),_=(i=!s.value)=>{v&&e.bindGroup?m(i):l("update:modelValue",i),e.indeterminate!==null&&l("change",i)};return se(()=>e.modelValue,i=>{e.indeterminate===null&&l("change",i)}),H({toggle:_,props:e,checked:s}),K(()=>e.modelValue),()=>n(xe,ie({bem:Ve,role:"checkbox",parent:v,checked:s.value,onToggle:_},e),re(h,["default","icon"]))}});const Pe=M(we),Se={class:"page"},Be={class:"flex flex-col justify-center items-center"},Ue={class:"flex justify-center mt-16"},Ge={class:"text-[1.75rem] font-bold mt-6"},Fe={class:"text-base text-gray-500 mt-3"},Re={class:"mt-8"},$e={class:"flex items-center px-5 pt-3"},ze={class:"ml-2"},Ae={class:"pt-6"},De={class:"font-[600] text-base"},Ie={class:"flex justify-center my-3 text-2xl font-bold"},Oe={class:"p-3"},Ne=B({__name:"register",setup(e){const{t:l}=de(),h=ce(),v=be(),m=g(""),s=g(""),_=g(""),i=g(""),f=g(""),k=g(!1),x=async()=>{if(!k.value){Q(l("register.agreeTermsHint"));return}await W({username:m.value,password:s.value,repassword:_.value,mobile:i.value,code:f.value}).then(d=>{h.setUser(d.data),v.push("/"),Z()})},c=g(!1),o=g([]),b=async()=>{await X("8").then(d=>{o.value=d.data})};return ue(async()=>{Promise.all([b()])}),(d,t)=>{const w=L,C=ne,V=ae,A=ee,D=Pe,I=Y,O=he,N=J;return pe(),me(ve,null,[n(w,{title:"",isBack:!1,isLogin:!0}),u("div",Se,[u("div",Be,[u("div",Ue,[n(C,{name:"logo-C8lBymrN",width:"10rem",height:"7.75rem"})]),u("div",Ge,p(a(l)("register.createAccount")),1),u("div",Fe,p(a(l)("register.startUsingHint")),1)]),u("div",Re,[n(O,{required:"auto"},{default:P(()=>[n(A,{inset:""},{default:P(()=>[n(V,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),"left-icon":"user-o",placeholder:a(l)("register.enterUsername"),rules:a(te)},null,8,["modelValue","placeholder","rules"]),n(V,{type:"password",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value=r),"left-icon":"shield-o",placeholder:a(l)("register.enterPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(V,{type:"password",modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=r=>_.value=r),"left-icon":"shield-o",placeholder:a(l)("register.confirmPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(V,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=r=>i.value=r),"left-icon":"phone-o",placeholder:a(l)("register.enterMobile"),rules:a(oe)},null,8,["modelValue","placeholder","rules"]),n(V,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=r=>f.value=r),"left-icon":"label-o",placeholder:a(l)("register.authCode"),rules:a(le)},null,8,["modelValue","placeholder","rules"])]),_:1}),u("div",$e,[n(D,{modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=r=>k.value=r),shape:"square","icon-size":"15px"},null,8,["modelValue"]),u("div",ze,[fe(p(a(l)("register.readAndAgree")),1),u("span",{class:"text-primary",onClick:t[6]||(t[6]=r=>c.value=!0)},p(a(l)("register.termsOfService")),1)])]),u("div",Ae,[n(I,{"native-type":"submit",block:"",round:"",type:"primary",onClick:t[7]||(t[7]=r=>x())},{default:P(()=>[u("span",De,p(a(l)("register.register")),1)]),_:1})])]),_:1}),u("div",{class:"flex justify-center items-center mt-12 text-primary text-[15px] pb-4",onClick:t[8]||(t[8]=r=>d.$router.push("login"))},p(a(l)("register.haveAccount"))+" "+p(a(l)("register.login")),1)])]),n(N,{show:c.value,"onUpdate:show":t[9]||(t[9]=r=>c.value=r),round:"",position:"bottom",style:{height:"90%"}},{default:P(()=>[u("h1",Ie,p(a(l)("register.termsOfService")),1),u("div",Oe,p(o.value[8].length>0?o.value[8]:""),1)]),_:1},8,["show"])],64)}}}),Xe=ge(Ne,[["__scopeId","data-v-ee857a93"]]);export{Xe as default};
