import{K as z,_ as tt,P as st,a as et,B as ot,I as at,b as E,M as lt,D as nt,N as it}from"./CpNavBar-YKSWdiMH.js";import"./index-DDBs86HS.js";import{F as dt}from"./index-8MZZHsYC.js";import{P as rt,N as ct}from"./index-DqIDsfLc.js";import{P as ut,L as _t}from"./index-B93TrPKR.js";import{E as pt}from"./index-DIFNj-OC.js";import mt from"./recharge-banner-Bkr9lTMK-FM_NWu-G.js";import{a as vt,u as wt}from"./common-C6QzqCjM.js";import{d as ht,u as ft,m as yt,r as d,w as K,o as gt,c as N,a as i,b as t,e,i as c,F as W,t as o,h as bt,g as xt,n as kt,j as D,_ as Ct}from"./index-DZ_urxbV.js";import"./use-id-CwjrKIfK.js";import"./use-tab-status-DgQygf_o.js";const $t={class:"page"},Bt={class:"section"},Dt={class:"title-line"},Mt={class:"title"},Pt={class:"money"},Tt={class:"amount"},Ut={class:"money-content"},St={class:"money-item"},Vt={class:"label"},Lt={class:"text"},Nt={class:"money-item"},At={class:"label"},Ft={class:"text"},It={class:"money-item"},Rt={class:"label"},jt={class:"text"},zt={class:"btn-wrap space-x-3"},Et={class:"text-sm"},Kt={class:"text-sm"},Wt={class:"link-list"},Jt={class:"link-title"},qt={class:"label"},Gt={class:"link-title"},Ht={class:"label"},Ot={class:"record-wrap"},Qt={class:"record-title"},Xt={class:"record-list"},Yt=["onClick"],Zt={class:"record-content"},ts={class:"time"},ss={class:"dialog-wrap"},es={class:"dialog-title",style:{margin:"0px"}},os={class:"content-wrap"},as={class:"content-item"},ls={class:"label"},ns={class:"text"},is={class:"content-item"},ds={class:"label"},rs={class:"text"},cs={class:"content-item"},us={class:"label"},_s={class:"text"},ps={class:"content-item"},ms={class:"label"},vs={class:"text"},ws={class:"dialog-wrap"},hs={class:"dialog-title"},fs={class:"desc"},ys={class:"text-sm"},gs={class:"dialog-wrap"},bs={class:"dialog-title"},xs={class:"form-wrap"},ks={class:"label"},Cs={class:"input-wrap"},$s={class:"form-tips"},Bs={class:"count-money"},Ds={class:"flex justify-center"},Ms={class:"text-sm"},Ps={class:"dialog-wrap"},Ts={class:"dialog-title",style:{margin:"0px"}},Us={class:"text"},Ss={class:"text"},Vs={class:"text"},Ls={class:"flex justify-center"},Ns={class:"text-sm"},As=ht({__name:"wallet",setup(Fs){const{t:a}=ft(),A=vt(),v=wt(),F=kt(),I=yt(),x=d({page:0,pageSize:10}),f=d(!1),k=d(!1),M=d([]),R=async()=>{k.value||(f.value=!0,x.value.page++,await it(x.value).then(l=>{M.value.push(...l.data.list),x.value.page>=l.data.total_page&&(k.value=!0),f.value=!1}).catch(()=>{f.value=!1}))},w=d(!1),J=()=>{z().then(l=>{r.value=l.data,w.value=!1}).catch(()=>w.value=!1),x.value.page=0,k.value=!1,M.value=[],R()},P=d(!1),C=d(!1),$=d(!1),T=d(!1),u=d(""),U=d(!0);K(u,l=>{const s=l.replace(/[^\d]/g,"").slice(0,6);s!==l&&(u.value=s),u.value.length==6?U.value=!1:U.value=!0});const h=d(),S=d(!0);K(h,l=>{l>0&&l<=r.value.money?S.value=!1:S.value=!0});const q=()=>{var l,s;if(r!=null&&r.value){if(((l=I.user)==null?void 0:l.set_card)!=1){E(a("wallet.withdrawal.rules.bindCardFirst")),F.push("bindCard");return}if(((s=I.user)==null?void 0:s.set_pay_password)!=1){E(a("wallet.withdrawal.rules.setPasswordFirst")),F.push("paypassword?isJump=1");return}$.value=!0}},j=async()=>{if(!u.value){C.value=!0;return}C.value=!1,await lt(h.value,u.value).then(l=>{$.value=!1,h.value="",u.value="",location.reload(),nt(l.msg)})},G=l=>{l&&window.open(l)},r=d(),y=d();return gt(async()=>{w.value=!0,await z().then(l=>{r.value=l.data,w.value=!1}).catch(()=>w.value=!1)}),(l,s)=>{const H=tt,V=et,g=ot,L=at,Is=pt,O=_t,Q=ut,B=st,X=rt,Y=ct,Z=dt;return D(),N(W,null,[i(H,{title:e(a)("wallet.title")},null,8,["title"]),t("div",$t,[i(Q,{modelValue:w.value,"onUpdate:modelValue":s[5]||(s[5]=n=>w.value=n),onRefresh:J,"pulling-text":e(a)("common.pullDownRefresh"),"loosing-text":e(a)("common.releaseRefresh"),"loading-text":e(a)("common.loading")},{default:c(()=>{var n,_,p,b;return[t("div",Bt,[t("div",Dt,[t("div",Mt,[t("span",null,o(e(a)("wallet.totalAssets")),1),i(V,{name:"eye"})]),s[16]||(s[16]=t("div",{class:"tag"},"USD",-1))]),t("div",Pt,[s[17]||(s[17]=t("span",{class:"currency"},"$",-1)),t("span",Tt,o(e(v).formatMoney((n=r.value)==null?void 0:n.money)),1)]),t("div",Ut,[t("div",St,[t("span",Vt,o(e(a)("wallet.availableBalance")),1),t("span",Lt," $ "+o(e(v).formatMoney((_=r.value)==null?void 0:_.money)),1)]),t("div",Nt,[t("span",At,o(e(a)("wallet.pendingConsumption")),1),t("span",Ft," $ "+o(e(v).formatMoney((p=r.value)==null?void 0:p.wait_putIn)),1)]),t("div",It,[t("span",Rt,o(e(a)("wallet.pendingSettlement")),1),t("span",jt," $ "+o(e(v).formatMoney((b=r.value)==null?void 0:b.wait_money)),1)])]),t("div",zt,[i(g,{type:"primary",block:"",plain:"",round:"",onClick:s[0]||(s[0]=m=>q())},{default:c(()=>[t("span",Et,o(e(a)("wallet.withdraw")),1)]),_:1}),i(g,{type:"primary",round:"",onClick:s[1]||(s[1]=m=>T.value=!0),block:""},{default:c(()=>[t("span",Kt,o(e(a)("wallet.deposit")),1)]),_:1})]),t("div",Wt,[t("div",{class:"link-item",onClick:s[2]||(s[2]=m=>l.$router.push("bindCard"))},[t("div",Jt,[i(V,{name:"card-pos-2",size:"5vw"}),t("span",qt,o(e(a)("wallet.bindBankCard")),1)]),i(L,{name:"arrow"})]),t("div",{class:"link-item",onClick:s[3]||(s[3]=m=>l.$router.push("paypassword"))},[t("div",Gt,[i(V,{name:"edit-password",size:"5vw"}),t("span",Ht,o(e(a)("wallet.changePaymentPassword")),1)]),i(L,{name:"arrow"})])])]),t("div",Ot,[t("div",Qt,o(e(a)("wallet.fundDetails")),1),t("div",Xt,[(D(),bt(O,{key:1,loading:f.value,"onUpdate:loading":s[4]||(s[4]=m=>f.value=m),finished:k.value,"finished-text":e(a)("common.noMore"),"loading-text":e(a)("common.loading"),"error-text":e(a)("common.fail"),onLoad:R},{default:c(()=>[(D(!0),N(W,null,xt(M.value,m=>(D(),N("div",{class:"record-item",onClick:Rs=>{P.value=!0,y.value=m}},[t("div",Zt,[s[18]||(s[18]=t("div",{class:"label"},null,-1)),t("div",ts,o(e(A).formatToMonthDay(m.create_time,1)),1)]),i(L,{name:"arrow"})],8,Yt))),256))]),_:1},8,["loading","finished","finished-text","loading-text","error-text"]))])])]}),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])]),i(B,{show:P.value,"onUpdate:show":s[6]||(s[6]=n=>P.value=n),position:"bottom",round:"",style:{height:"55%"}},{default:c(()=>{var n,_,p,b;return[t("div",ss,[t("div",es,o(e(a)("wallet.flowDetail.title")),1),t("div",os,[t("div",as,[t("div",ls,o(e(a)("wallet.flowDetail.id")),1),t("div",ns,o((n=y.value)==null?void 0:n.id),1)]),t("div",is,[t("div",ds,o(e(a)("wallet.flowDetail.time")),1),t("div",rs,o(e(A).formatToMonthDay((_=y.value)==null?void 0:_.create_time,1)),1)]),t("div",cs,[t("div",us,o(e(a)("wallet.flowDetail.amount")),1),t("div",_s,"$ "+o(e(v).formatMoney((p=y.value)==null?void 0:p.cha)),1)]),t("div",ps,[t("div",ms,o(e(a)("wallet.flowDetail.remarks")),1),t("div",vs,o((b=y.value)==null?void 0:b.remarks),1)])])])]}),_:1},8,["show"]),i(B,{show:C.value,"onUpdate:show":s[9]||(s[9]=n=>C.value=n),position:"bottom",round:"",style:{height:"95%"}},{default:c(()=>[t("div",ws,[t("div",hs,o(e(a)("wallet.paymentPassword.title")),1),t("div",fs,o(e(a)("wallet.paymentPassword.desc")),1),i(X,{value:u.value,length:6},null,8,["value"]),i(Y,{modelValue:u.value,"onUpdate:modelValue":s[7]||(s[7]=n=>u.value=n),show:!0},null,8,["modelValue"]),i(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:U.value,onClick:s[8]||(s[8]=n=>j())},{default:c(()=>[t("span",ys,o(e(a)("wallet.paymentPassword.confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["show"]),i(B,{show:$.value,"onUpdate:show":s[13]||(s[13]=n=>$.value=n),position:"bottom",round:"",style:{height:"50%"}},{default:c(()=>{var n;return[t("div",gs,[t("div",bs,o(e(a)("wallet.withdrawal.title")),1),t("div",xs,[t("div",ks,o(e(a)("wallet.withdrawal.enterAmount")),1),t("div",Cs,[s[19]||(s[19]=t("span",{class:"label"},"$",-1)),i(Z,{modelValue:h.value,"onUpdate:modelValue":s[10]||(s[10]=_=>h.value=_)},null,8,["modelValue"])]),t("div",$s,[t("span",Bs,o(e(a)("wallet.withdrawal.available"))+" $"+o(e(v).formatMoney((n=r.value)==null?void 0:n.money)),1),t("span",{class:"all-text",onClick:s[11]||(s[11]=_=>{var p;return h.value=e(v).formatMoney((p=r.value)==null?void 0:p.money)})},o(e(a)("wallet.withdrawal.withdrawAll")),1)])]),t("div",Ds,[i(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:S.value,onClick:s[12]||(s[12]=_=>j())},{default:c(()=>[t("span",Ms,o(e(a)("wallet.withdraw")),1)]),_:1},8,["disabled"])])])]}),_:1},8,["show"]),i(B,{show:T.value,"onUpdate:show":s[15]||(s[15]=n=>T.value=n),position:"bottom",round:"",style:{height:"60%"}},{default:c(()=>[t("div",Ps,[t("div",Ts,o(e(a)("wallet.depositTips.title")),1),s[20]||(s[20]=t("img",{class:"banner",width:"343",src:mt,alt:""},null,-1)),t("p",Us,o(e(a)("wallet.depositTips.text1")),1),t("p",Ss,o(e(a)("wallet.depositTips.text2")),1),t("p",Vs,o(e(a)("wallet.depositTips.text3")),1),t("div",Ls,[i(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},onClick:s[14]||(s[14]=n=>G(r.value.re_service_address))},{default:c(()=>[t("span",Ns,o(e(a)("wallet.depositTips.contactService")),1)]),_:1})])])]),_:1},8,["show"])],64)}}}),Xs=Ct(As,[["__scopeId","data-v-0babd277"]]);export{Xs as default};
