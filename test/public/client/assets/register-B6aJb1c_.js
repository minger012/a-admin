import{g as R,d as B,q as U,n as D,E as $,a as p,c as y,f as n,t as A,m as N,I as E,aj as S,ak as H,w as q,e as L,R as M,B as K,A as Y,J,V as W,ag as X,v as Z,W as Q,Y as c,a0 as k,a1 as a,$ as P,P as ee,Z as te,a9 as oe,a2 as le,a6 as ae,al as ne,aa as se,ai as ie,ab as re,ae as de}from"./index-CyuuB1M6.js";import{_ as ce,B as ue}from"./CpNavBar-fTwR2mKR.js";import{C as me,u as ve,p as G,m as fe,c as be}from"./rules-squlKbtm.js";import"./index-BYtDS21d.js";import{F as pe}from"./index-d4hoqJyy.js";import{_ as ge}from"./CpImage.vue_vue_type_script_setup_true_lang-OweyvM5o.js";import{F as he}from"./index-CNDLEjPA.js";import"./use-id-erQ3pgZO.js";const[_e,Je]=R("checkbox-group"),ke=Symbol(_e),F={name:U,disabled:Boolean,iconSize:D,modelValue:U,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var xe=B({props:$({},F,{bem:N(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:A,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:l,slots:g}){const v=p(),m=o=>{if(e.parent&&e.bindGroup)return e.parent.props[o]},s=y(()=>{if(e.parent&&e.bindGroup){const o=m("disabled")||e.disabled;if(e.role==="checkbox"){const b=m("modelValue").length,d=m("max"),t=d&&b>=+d;return o||t&&!e.checked}return o}return e.disabled}),h=y(()=>m("direction")),r=y(()=>{const o=e.checkedColor||m("checkedColor");if(o&&e.checked&&!s.value)return{borderColor:o,backgroundColor:o}}),f=y(()=>e.shape||m("shape")||"round"),_=o=>{const{target:b}=o,d=v.value,t=d===b||(d==null?void 0:d.contains(b));!s.value&&(t||!e.labelDisabled)&&l("toggle"),l("click",o)},x=()=>{var o,b;const{bem:d,checked:t,indeterminate:w}=e,V=e.iconSize||m("iconSize");return n("div",{ref:v,class:d("icon",[f.value,{disabled:s.value,checked:t,indeterminate:w}]),style:f.value!=="dot"?{fontSize:S(V)}:{width:S(V),height:S(V),borderColor:(o=r.value)==null?void 0:o.borderColor}},[g.icon?g.icon({checked:t,disabled:s.value}):f.value!=="dot"?n(E,{name:w?"minus":"success",style:r.value},null):n("div",{class:d("icon--dot__icon"),style:{backgroundColor:(b=r.value)==null?void 0:b.backgroundColor}},null)])},u=()=>{const{checked:o}=e;if(g.default)return n("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[g.default({checked:o,disabled:s.value})])};return()=>{const o=e.labelPosition==="left"?[u(),x()]:[x(),u()];return n("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},h.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:_},[o])}}});const[Ve,Ce]=R("checkbox"),ye=$({},F,{shape:String,bindGroup:A,indeterminate:{type:Boolean,default:null}});var we=B({name:Ve,props:ye,emits:["change","update:modelValue"],setup(e,{emit:l,slots:g}){const{parent:v}=H(ke),m=r=>{const{name:f}=e,{max:_,modelValue:x}=v.props,u=x.slice();if(r)!(_&&u.length>=+_)&&!u.includes(f)&&(u.push(f),e.bindGroup&&v.updateValue(u));else{const o=u.indexOf(f);o!==-1&&(u.splice(o,1),e.bindGroup&&v.updateValue(u))}},s=y(()=>v&&e.bindGroup?v.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),h=(r=!s.value)=>{v&&e.bindGroup?m(r):l("update:modelValue",r),e.indeterminate!==null&&l("change",r)};return q(()=>e.modelValue,r=>{e.indeterminate===null&&l("change",r)}),L({toggle:h,props:e,checked:s}),M(()=>e.modelValue),()=>n(xe,Y({bem:Ce,role:"checkbox",parent:v,checked:s.value,onToggle:h},e),K(g,["default","icon"]))}});const Pe=J(we),Se={class:"page"},Be={class:"flex flex-col justify-center items-center"},Ue={class:"flex justify-center mt-16"},Ge={class:"text-[1.75rem] font-bold mt-6"},Re={class:"text-base text-gray-500 mt-3"},$e={class:"mt-8"},Ae={class:"flex items-center px-5 pt-3"},Fe={class:"ml-2"},Ie={class:"pt-6"},Oe={class:"font-[600] text-base"},Te={class:"flex justify-center my-3 text-2xl font-bold"},je={class:"p-3"},ze=["innerHTML"],De=B({__name:"register",setup(e){const{t:l}=W(),g=X(),v=se(),m=p(""),s=p(""),h=p(""),r=p(""),f=p(""),_=p(!1),x=async()=>{if(!_.value){ae(l("register.agreeTermsHint"));return}await ne({username:m.value,password:s.value,repassword:h.value,mobile:r.value,code:f.value}).then(d=>{g.setUser(d.data),v.push("/"),ie()})},u=p(!1),o=p([]),b=async()=>{await oe("8").then(d=>{o.value=d.data})};return Z(async()=>{Promise.all([b()])}),(d,t)=>{const w=ce,V=ge,C=pe,I=me,O=Pe,T=ue,j=he,z=ee;return re(),Q(te,null,[n(w,{title:"",isBack:!1,isLogin:!0}),c("div",Se,[c("div",Be,[c("div",Ue,[n(V,{name:"logo-C8lBymrN",width:"10rem",height:"7.75rem"})]),c("div",Ge,k(a(l)("register.createAccount")),1),c("div",Re,k(a(l)("register.startUsingHint")),1)]),c("div",$e,[n(j,{required:"auto"},{default:P(()=>[n(I,{inset:""},{default:P(()=>[n(C,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=i=>m.value=i),"left-icon":"user-o",placeholder:a(l)("register.enterUsername"),rules:a(ve)},null,8,["modelValue","placeholder","rules"]),n(C,{type:"password",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=i=>s.value=i),"left-icon":"shield-o",placeholder:a(l)("register.enterPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(C,{type:"password",modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=i=>h.value=i),"left-icon":"shield-o",placeholder:a(l)("register.confirmPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(C,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=i=>r.value=i),"left-icon":"phone-o",placeholder:a(l)("register.enterMobile"),rules:a(fe)},null,8,["modelValue","placeholder","rules"]),n(C,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=i=>f.value=i),"left-icon":"label-o",placeholder:a(l)("register.authCode"),rules:a(be)},null,8,["modelValue","placeholder","rules"])]),_:1}),c("div",Ae,[n(O,{modelValue:_.value,"onUpdate:modelValue":t[5]||(t[5]=i=>_.value=i),shape:"square","icon-size":"15px"},null,8,["modelValue"]),c("div",Fe,[le(k(a(l)("register.readAndAgree")),1),c("span",{class:"text-primary",onClick:t[6]||(t[6]=i=>u.value=!0)},k(a(l)("register.termsOfService")),1)])]),c("div",Ie,[n(T,{"native-type":"submit",block:"",round:"",type:"primary",onClick:t[7]||(t[7]=i=>x())},{default:P(()=>[c("span",Oe,k(a(l)("register.register")),1)]),_:1})])]),_:1}),c("div",{class:"flex justify-center items-center mt-12 text-primary text-[15px] pb-4",onClick:t[8]||(t[8]=i=>d.$router.push("login"))},k(a(l)("register.haveAccount"))+" "+k(a(l)("register.login")),1)])]),n(z,{show:u.value,"onUpdate:show":t[9]||(t[9]=i=>u.value=i),round:"",position:"bottom",style:{height:"90%"}},{default:P(()=>[c("h1",Te,k(a(l)("register.termsOfService")),1),c("div",je,[c("div",{innerHTML:o.value[8].length>0?o.value[8]:""},null,8,ze)])]),_:1},8,["show"])],64)}}}),We=de(De,[["__scopeId","data-v-17962c64"]]);export{We as default};
