import{d as T,l as L,t as I,n as g,g as O,a as _,bb as R,c as B,aj as m,N as $,w as A,D as V,Q as x,v as j,z as P,f as c,S as N,bi as C,A as w,I as M,J as U,bj as t,a3 as q,$ as J,L as Q,aa as F}from"./index-DoQrIYf3.js";const[G,d]=O("image"),H={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:g,height:g,radius:g,lazyLoad:Boolean,iconSize:g,showError:I,errorIcon:L("photo-fail"),iconPrefix:String,showLoading:I,loadingIcon:L("photo"),crossorigin:String,referrerpolicy:String};var K=T({name:G,props:H,emits:["load","error"],setup(e,{emit:a,slots:o}){const n=_(!1),s=_(!0),i=_(),{$Lazyload:l}=R().proxy,k=B(()=>{const r={width:m(e.width),height:m(e.height)};return $(e.radius)&&(r.overflow="hidden",r.borderRadius=m(e.radius)),r});A(()=>e.src,()=>{n.value=!1,s.value=!0});const f=r=>{s.value&&(s.value=!1,a("load",r))},v=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:i.value,enumerable:!0}),f(r)},h=r=>{n.value=!0,s.value=!1,a("error",r)},y=(r,u,p)=>p?p():c(M,{name:r,size:e.iconSize,class:u,classPrefix:e.iconPrefix},null),S=()=>{if(s.value&&e.showLoading)return c("div",{class:d("loading")},[y(e.loadingIcon,d("loading-icon"),o.loading)]);if(n.value&&e.showError)return c("div",{class:d("error")},[y(e.errorIcon,d("error-icon"),o.error)])},z=()=>{if(n.value||!e.src)return;const r={alt:e.alt,class:d("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?N(c("img",w({ref:i},r),null),[[C("lazy"),e.src]]):c("img",w({ref:i,src:e.src,onLoad:f,onError:h},r),null)},E=({el:r})=>{const u=()=>{r===i.value&&s.value&&v()};i.value?u():P(u)},b=({el:r})=>{r===i.value&&!n.value&&h()};return l&&V&&(l.$on("loaded",E),l.$on("error",b),x(()=>{l.$off("loaded",E),l.$off("error",b)})),j(()=>{P(()=>{var r;(r=i.value)!=null&&r.complete&&!e.lazyLoad&&v()})}),()=>{var r;return c("div",{class:d({round:e.round,block:e.block}),style:k.value},[z(),S(),(r=o.default)==null?void 0:r.call(o)])}}});const W=U(K),D=(e,a,o)=>{const n=e[a];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==o?". Note that variables only represent file names one level deep.":""))))})},Y=T({__name:"CpImage",props:{name:{},src:{},width:{},height:{},round:{type:Boolean},radius:{},fileType:{},dir:{}},setup(e){const a=e,o=_();return a.src?o.value=a.src:a.name&&a.name.includes("http")?o.value=a.name:a.dir?D(Object.assign({}),`../assets/img/${a.dir}/${a.name}.${a.fileType||"png"}`,5).then(n=>{o.value=n.default}):D(Object.assign({"../assets/img/5D8s-GsHJlJ.png":()=>t(()=>import("./5D8s-GsHJlJ-DXCgiF7w.js"),[]),"../assets/img/apple-store-Da3dkSd7.png":()=>t(()=>import("./apple-store-Da3dkSd7-D2fWyQEp.js"),[]),"../assets/img/banner1-D_iNypES.png":()=>t(()=>import("./banner1-D_iNypES-D1OTGBsF.js"),[]),"../assets/img/banner2-FQGNIWdl.png":()=>t(()=>import("./banner2-FQGNIWdl-DkseoFNC.js"),[]),"../assets/img/goods-detail-header-bg-BbrPUqL6.png":()=>t(()=>import("./goods-detail-header-bg-BbrPUqL6-JVAIxD3x.js"),[]),"../assets/img/google-play-nQbvKhbh.png":()=>t(()=>import("./google-play-nQbvKhbh-BflS0lCL.js"),[]),"../assets/img/logo-C8lBymrN.png":()=>t(()=>import("./logo-C8lBymrN-D98xDfTA.js"),[]),"../assets/img/recharge-banner-Bkr9lTMK.png":()=>t(()=>import("./recharge-banner-Bkr9lTMK-FM_NWu-G.js"),[]),"../assets/img/star.png":()=>t(()=>import("./star-iUIxs2Pw.js"),[])}),`../assets/img/${a.name}.${a.fileType||"png"}`,4).then(n=>{o.value=n.default}),(n,s)=>{const i=Q,l=W;return F(),q(l,{src:o.value,width:a.width,height:a.height,round:a.round,radius:a.radius,fit:"contain"},{loading:J(()=>[c(i,{type:"spinner",size:"20"})]),_:1},8,["src","width","height","round","radius"])}}});export{W as I,Y as _};
