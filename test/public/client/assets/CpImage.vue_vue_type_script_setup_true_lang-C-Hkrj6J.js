import{d as T,l as I,t as P,n as g,g as B,a as m,aQ as O,c as R,ae as _,N as $,w as A,D as V,Q as x,v as N,z as b,f as c,S as j,aX as C,A as w,I as M,J as Q,aY as s,a3 as U,$ as q,L as F,a8 as K}from"./index-og2BGDpU.js";const[G,d]=B("image"),H={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:g,height:g,radius:g,lazyLoad:Boolean,iconSize:g,showError:P,errorIcon:I("photo-fail"),iconPrefix:String,showLoading:P,loadingIcon:I("photo"),crossorigin:String,referrerpolicy:String};var J=T({name:G,props:H,emits:["load","error"],setup(e,{emit:a,slots:o}){const n=m(!1),i=m(!0),t=m(),{$Lazyload:l}=O().proxy,k=R(()=>{const r={width:_(e.width),height:_(e.height)};return $(e.radius)&&(r.overflow="hidden",r.borderRadius=_(e.radius)),r});A(()=>e.src,()=>{n.value=!1,i.value=!0});const f=r=>{i.value&&(i.value=!1,a("load",r))},v=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:t.value,enumerable:!0}),f(r)},h=r=>{n.value=!0,i.value=!1,a("error",r)},y=(r,u,p)=>p?p():c(M,{name:r,size:e.iconSize,class:u,classPrefix:e.iconPrefix},null),S=()=>{if(i.value&&e.showLoading)return c("div",{class:d("loading")},[y(e.loadingIcon,d("loading-icon"),o.loading)]);if(n.value&&e.showError)return c("div",{class:d("error")},[y(e.errorIcon,d("error-icon"),o.error)])},z=()=>{if(n.value||!e.src)return;const r={alt:e.alt,class:d("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?j(c("img",w({ref:t},r),null),[[C("lazy"),e.src]]):c("img",w({ref:t,src:e.src,onLoad:f,onError:h},r),null)},E=({el:r})=>{const u=()=>{r===t.value&&i.value&&v()};t.value?u():b(u)},L=({el:r})=>{r===t.value&&!n.value&&h()};return l&&V&&(l.$on("loaded",E),l.$on("error",L),x(()=>{l.$off("loaded",E),l.$off("error",L)})),N(()=>{b(()=>{var r;(r=t.value)!=null&&r.complete&&!e.lazyLoad&&v()})}),()=>{var r;return c("div",{class:d({round:e.round,block:e.block}),style:k.value},[z(),S(),(r=o.default)==null?void 0:r.call(o)])}}});const W=Q(J),D=(e,a,o)=>{const n=e[a];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==o?". Note that variables only represent file names one level deep.":""))))})},Y=T({__name:"CpImage",props:{name:{},src:{},width:{},height:{},round:{type:Boolean},radius:{},fileType:{},dir:{}},setup(e){const a=e,o=m();return a.src?o.value=a.src:a.name&&a.name.includes("http")?o.value=a.name:a.dir?D(Object.assign({}),`../assets/img/${a.dir}/${a.name}.${a.fileType||"png"}`,5).then(n=>{o.value=n.default}):D(Object.assign({"../assets/img/apple-store-Da3dkSd7.png":()=>s(()=>import("./apple-store-Da3dkSd7-D2fWyQEp.js"),[]),"../assets/img/banner1-D_iNypES.png":()=>s(()=>import("./banner1-D_iNypES-D1OTGBsF.js"),[]),"../assets/img/banner2-FQGNIWdl.png":()=>s(()=>import("./banner2-FQGNIWdl-DkseoFNC.js"),[]),"../assets/img/goods-detail-header-bg-BbrPUqL6.png":()=>s(()=>import("./goods-detail-header-bg-BbrPUqL6-JVAIxD3x.js"),[]),"../assets/img/google-play-nQbvKhbh.png":()=>s(()=>import("./google-play-nQbvKhbh-BflS0lCL.js"),[]),"../assets/img/logo-C8lBymrN.png":()=>s(()=>import("./logo-C8lBymrN-D98xDfTA.js"),[]),"../assets/img/recharge-banner-Bkr9lTMK.png":()=>s(()=>import("./recharge-banner-Bkr9lTMK-FM_NWu-G.js"),[]),"../assets/img/star.png":()=>s(()=>import("./star-iUIxs2Pw.js"),[])}),`../assets/img/${a.name}.${a.fileType||"png"}`,4).then(n=>{o.value=n.default}),(n,i)=>{const t=F,l=W;return K(),U(l,{src:o.value,width:a.width,height:a.height,round:a.round,radius:a.radius},{loading:q(()=>[c(t,{type:"spinner",size:"20"})]),_:1},8,["src","width","height","round","radius"])}}});export{W as I,Y as _};
