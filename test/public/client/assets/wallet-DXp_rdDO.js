import{Z as R,_ as tt,P as st,y as et,B as at,I as ot,A as W,$ as lt,W as nt,a0 as it}from"./CpNavBar-BMqH4n_0.js";import"./index-Df24p-CM.js";import{F as dt}from"./index-CkAB9ZeA.js";import{P as rt,N as ct}from"./index-B5bbYT6C.js";import{P as ut,L as _t}from"./index-COxqATPA.js";import{E as pt}from"./index-DJTGK3pS.js";import vt from"./recharge-banner-Bkr9lTMK-FM_NWu-G.js";import{a as mt,u as wt}from"./common-o-P_1aOo.js";import{d as ht,u as ft,G as yt,a as d,w as j,o as bt,l as L,b as i,q as t,y as e,s as c,F as q,x as a,B as gt,A as kt,H as xt,C as D,_ as Ct}from"./index-t-Fq5SeY.js";import"./use-id-Cigesy1j.js";import"./use-tab-status-CXW6XJJT.js";const $t={class:"page"},Bt={class:"section"},Dt={class:"title-line"},Pt={class:"title"},Mt={class:"money"},Tt={class:"amount"},Ut={class:"money-content"},St={class:"money-item"},Vt={class:"label"},At={class:"text"},Lt={class:"money-item"},Ft={class:"label"},It={class:"text"},Nt={class:"money-item"},zt={class:"label"},Et={class:"text"},Rt={class:"btn-wrap space-x-3"},Wt={class:"text-sm"},jt={class:"text-sm"},qt={class:"link-list"},Gt={class:"link-title"},Ht={class:"label"},Jt={class:"link-title"},Kt={class:"label"},Zt={class:"record-wrap"},Ot={class:"record-title"},Qt={class:"record-list"},Xt=["onClick"],Yt={class:"record-content"},ts={class:"time"},ss={class:"dialog-wrap"},es={class:"dialog-title",style:{margin:"0px"}},as={class:"content-wrap"},os={class:"content-item"},ls={class:"label"},ns={class:"text"},is={class:"content-item"},ds={class:"label"},rs={class:"text"},cs={class:"content-item"},us={class:"label"},_s={class:"text"},ps={class:"content-item"},vs={class:"label"},ms={class:"text"},ws={class:"dialog-wrap"},hs={class:"dialog-title"},fs={class:"desc"},ys={class:"text-sm"},bs={class:"dialog-wrap"},gs={class:"dialog-title"},ks={class:"form-wrap"},xs={class:"label"},Cs={class:"input-wrap"},$s={class:"form-tips"},Bs={class:"count-money"},Ds={class:"flex justify-center"},Ps={class:"text-sm"},Ms={class:"dialog-wrap"},Ts={class:"dialog-title",style:{margin:"0px"}},Us={class:"text"},Ss={class:"text"},Vs={class:"text"},As={class:"flex justify-center"},Ls={class:"text-sm"},Fs=ht({__name:"wallet",setup(Is){const{t:o}=ft(),F=mt(),m=wt(),I=xt(),N=yt(),k=d({page:0,pageSize:10}),f=d(!1),x=d(!1),P=d([]),z=async()=>{x.value||(f.value=!0,k.value.page++,await it(k.value).then(l=>{P.value.push(...l.data.list),k.value.page>=l.data.total_page&&(x.value=!0),f.value=!1}).catch(()=>{f.value=!1}))},w=d(!1),G=()=>{R().then(l=>{r.value=l.data,w.value=!1}).catch(()=>w.value=!1),k.value.page=0,x.value=!1,P.value=[],z()},M=d(!1),C=d(!1),$=d(!1),T=d(!1),u=d(""),U=d(!0);j(u,l=>{const s=l.replace(/[^\d]/g,"").slice(0,6);s!==l&&(u.value=s),u.value.length==6?U.value=!1:U.value=!0});const h=d(),S=d(!0);j(h,l=>{l>0&&l<=r.value.money?S.value=!1:S.value=!0});const H=()=>{var l,s;if(r!=null&&r.value){if(((l=N.user)==null?void 0:l.set_card)!=1){W(o("wallet.withdrawal.rules.bindCardFirst")),I.push("bindCard");return}if(((s=N.user)==null?void 0:s.set_pay_password)!=1){W(o("wallet.withdrawal.rules.setPasswordFirst")),I.push("paypassword?isJump=1");return}$.value=!0}},E=async()=>{if(!u.value){C.value=!0;return}C.value=!1,await lt(h.value,u.value).then(l=>{$.value=!1,h.value="",u.value="",location.reload(),nt(l.msg)})},J=l=>{l&&window.open(l)},r=d(),y=d();return bt(async()=>{w.value=!0,await R().then(l=>{r.value=l.data,w.value=!1}).catch(()=>w.value=!1)}),(l,s)=>{const K=tt,V=et,b=at,A=ot,Ns=pt,Z=_t,O=ut,B=st,Q=rt,X=ct,Y=dt;return D(),L(q,null,[i(K,{title:e(o)("wallet.title")},null,8,["title"]),t("div",$t,[i(O,{modelValue:w.value,"onUpdate:modelValue":s[5]||(s[5]=n=>w.value=n),onRefresh:G},{default:c(()=>{var n,_,p,g;return[t("div",Bt,[t("div",Dt,[t("div",Pt,[t("span",null,a(e(o)("wallet.totalAssets")),1),i(V,{name:"eye"})]),s[16]||(s[16]=t("div",{class:"tag"},"USD",-1))]),t("div",Mt,[s[17]||(s[17]=t("span",{class:"currency"},"$",-1)),t("span",Tt,a(e(m).formatMoney((n=r.value)==null?void 0:n.money)),1)]),t("div",Ut,[t("div",St,[t("span",Vt,a(e(o)("wallet.availableBalance")),1),t("span",At," $ "+a(e(m).formatMoney((_=r.value)==null?void 0:_.money)),1)]),t("div",Lt,[t("span",Ft,a(e(o)("wallet.pendingConsumption")),1),t("span",It," $ "+a(e(m).formatMoney((p=r.value)==null?void 0:p.wait_putIn)),1)]),t("div",Nt,[t("span",zt,a(e(o)("wallet.pendingSettlement")),1),t("span",Et," $ "+a(e(m).formatMoney((g=r.value)==null?void 0:g.wait_money)),1)])]),t("div",Rt,[i(b,{type:"primary",block:"",plain:"",round:"",onClick:s[0]||(s[0]=v=>H())},{default:c(()=>[t("span",Wt,a(e(o)("wallet.withdraw")),1)]),_:1}),i(b,{type:"primary",round:"",onClick:s[1]||(s[1]=v=>T.value=!0),block:""},{default:c(()=>[t("span",jt,a(e(o)("wallet.deposit")),1)]),_:1})]),t("div",qt,[t("div",{class:"link-item",onClick:s[2]||(s[2]=v=>l.$router.push("bindCard"))},[t("div",Gt,[i(V,{name:"card-pos-2",size:"5vw"}),t("span",Ht,a(e(o)("wallet.bindBankCard")),1)]),i(A,{name:"arrow"})]),t("div",{class:"link-item",onClick:s[3]||(s[3]=v=>l.$router.push("paypassword"))},[t("div",Jt,[i(V,{name:"edit-password",size:"5vw"}),t("span",Kt,a(e(o)("wallet.changePaymentPassword")),1)]),i(A,{name:"arrow"})])])]),t("div",Zt,[t("div",Ot,a(e(o)("wallet.fundDetails")),1),t("div",Qt,[(D(),gt(Z,{key:1,loading:f.value,"onUpdate:loading":s[4]||(s[4]=v=>f.value=v),finished:x.value,onLoad:z,"finished-text":e(o)("common.noMore")},{default:c(()=>[(D(!0),L(q,null,kt(P.value,v=>(D(),L("div",{class:"record-item",onClick:zs=>{M.value=!0,y.value=v}},[t("div",Yt,[s[18]||(s[18]=t("div",{class:"label"},null,-1)),t("div",ts,a(e(F).formatToMonthDay(v.create_time,1)),1)]),i(A,{name:"arrow"})],8,Xt))),256))]),_:1},8,["loading","finished","finished-text"]))])])]}),_:1},8,["modelValue"])]),i(B,{show:M.value,"onUpdate:show":s[6]||(s[6]=n=>M.value=n),position:"bottom",round:"",style:{height:"55%"}},{default:c(()=>{var n,_,p,g;return[t("div",ss,[t("div",es,a(e(o)("wallet.flowDetail.title")),1),t("div",as,[t("div",os,[t("div",ls,a(e(o)("wallet.flowDetail.id")),1),t("div",ns,a((n=y.value)==null?void 0:n.id),1)]),t("div",is,[t("div",ds,a(e(o)("wallet.flowDetail.time")),1),t("div",rs,a(e(F).formatToMonthDay((_=y.value)==null?void 0:_.create_time,1)),1)]),t("div",cs,[t("div",us,a(e(o)("wallet.flowDetail.amount")),1),t("div",_s,"$ "+a(e(m).formatMoney((p=y.value)==null?void 0:p.cha)),1)]),t("div",ps,[t("div",vs,a(e(o)("wallet.flowDetail.remarks")),1),t("div",ms,a((g=y.value)==null?void 0:g.remarks),1)])])])]}),_:1},8,["show"]),i(B,{show:C.value,"onUpdate:show":s[9]||(s[9]=n=>C.value=n),position:"bottom",round:"",style:{height:"95%"}},{default:c(()=>[t("div",ws,[t("div",hs,a(e(o)("wallet.paymentPassword.title")),1),t("div",fs,a(e(o)("wallet.paymentPassword.desc")),1),i(Q,{value:u.value,length:6},null,8,["value"]),i(X,{modelValue:u.value,"onUpdate:modelValue":s[7]||(s[7]=n=>u.value=n),show:!0},null,8,["modelValue"]),i(b,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:U.value,onClick:s[8]||(s[8]=n=>E())},{default:c(()=>[t("span",ys,a(e(o)("wallet.paymentPassword.confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["show"]),i(B,{show:$.value,"onUpdate:show":s[13]||(s[13]=n=>$.value=n),position:"bottom",round:"",style:{height:"50%"}},{default:c(()=>{var n;return[t("div",bs,[t("div",gs,a(e(o)("wallet.withdrawal.title")),1),t("div",ks,[t("div",xs,a(e(o)("wallet.withdrawal.enterAmount")),1),t("div",Cs,[s[19]||(s[19]=t("span",{class:"label"},"$",-1)),i(Y,{modelValue:h.value,"onUpdate:modelValue":s[10]||(s[10]=_=>h.value=_)},null,8,["modelValue"])]),t("div",$s,[t("span",Bs,a(e(o)("wallet.withdrawal.available"))+" $"+a(e(m).formatMoney((n=r.value)==null?void 0:n.money)),1),t("span",{class:"all-text",onClick:s[11]||(s[11]=_=>{var p;return h.value=e(m).formatMoney((p=r.value)==null?void 0:p.money)})},a(e(o)("wallet.withdrawal.withdrawAll")),1)])]),t("div",Ds,[i(b,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:S.value,onClick:s[12]||(s[12]=_=>E())},{default:c(()=>[t("span",Ps,a(e(o)("wallet.withdraw")),1)]),_:1},8,["disabled"])])])]}),_:1},8,["show"]),i(B,{show:T.value,"onUpdate:show":s[15]||(s[15]=n=>T.value=n),position:"bottom",round:"",style:{height:"60%"}},{default:c(()=>[t("div",Ms,[t("div",Ts,a(e(o)("wallet.depositTips.title")),1),s[20]||(s[20]=t("img",{class:"banner",width:"343",src:vt,alt:""},null,-1)),t("p",Us,a(e(o)("wallet.depositTips.text1")),1),t("p",Ss,a(e(o)("wallet.depositTips.text2")),1),t("p",Vs,a(e(o)("wallet.depositTips.text3")),1),t("div",As,[i(b,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},onClick:s[14]||(s[14]=n=>J(r.value.re_service_address))},{default:c(()=>[t("span",Ls,a(e(o)("wallet.depositTips.contactService")),1)]),_:1})])])]),_:1},8,["show"])],64)}}}),Qs=Ct(Fs,[["__scopeId","data-v-2ca85f90"]]);export{Qs as default};
