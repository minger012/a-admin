import{_ as S,F as $,W as k,K as F}from"./CpNavBar-BGhrA26v.js";import{P as I,L as N}from"./index-BOOpFCIE.js";import{_ as T}from"./CpImage.vue_vue_type_script_setup_true_lang-Dq2vc4qh.js";import{C as U}from"./CpPutin-C3PIiUpT.js";import{a as H}from"./common-VvLUS-WY.js";import{d as M,u as j,y as q,a as r,g as h,b as i,h as e,t as n,j as s,i as _,F as x,l as A,z as E,q as v,_ as J}from"./index-DqBSD0aN.js";import"./use-tab-status-DAeoIkwI.js";import"./index-BV2B6MZl.js";import"./index-D2Ubb90o.js";import"./use-id-BHI6m-7i.js";import"./index-BalXGief.js";const K={class:"page"},W={class:"header-info"},G={class:"title"},O={class:"description"},Q={class:"plan-items"},X={class:"plan-card"},Y={class:"plan-header"},Z={class:"plan-logo"},ee={class:"plan-main-info"},ae={class:"plan-name"},te={class:"plan-company"},se={class:"plan-time"},oe={class:"plan-desc"},ne={class:"plan-footer"},le={class:"text-[12px] text-gray-500"},ie={class:"text-[12px]"},re=M({__name:"market",setup(de){const{t:a}=j(),y=H(),w=q(),C=E(),d=r({page:0,pageSize:10}),c=r(!1),m=r(!1),f=r([]),L=async()=>{m.value||(c.value=!0,d.value.page++,await k(d.value).then(o=>{f.value.push(...o.data.list),d.value.page>=o.data.total_page&&(m.value=!0),c.value=!1}).catch(()=>{c.value=!1}))},u=r(!1),P=async()=>{d.value.page=1,await k(d.value).then(o=>{f.value=o.data.list,u.value=!1}).catch(()=>{u.value=!1})},p=r(null),R=o=>{var l;if(((l=w.user)==null?void 0:l.set_pay_password)!=1){F(a("market.setPayPasswordHint")),C.push("paypassword?isJump=1");return}p.value&&(p.value.showBottom=!0,p.value.plan_id=o)};return(o,l)=>{const B=S,D=T,g=$,b=N,z=I;return v(),h(x,null,[i(B),e("div",K,[e("div",W,[e("div",G,n(s(a)("market.planLaunchPlaza")),1),e("div",O,n(s(a)("market.choosePlanHint")),1)]),i(z,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),onRefresh:P,"pulling-text":s(a)("market.pullDownRefresh"),"loosing-text":s(a)("market.releaseRefresh"),"loading-text":s(a)("market.loading")},{default:_(()=>[i(b,{loading:c.value,"onUpdate:loading":l[0]||(l[0]=t=>c.value=t),finished:m.value,"finished-text":s(a)("market.noMore"),"loading-text":s(a)("market.loading"),"error-text":s(a)("market.fail"),onLoad:L},{default:_(()=>[e("div",Q,[(v(!0),h(x,null,A(f.value,t=>(v(),h("div",X,[e("div",Y,[e("div",Z,[i(D,{name:t.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),e("div",ee,[e("div",ae,n(t.name),1),e("div",te,n(t.company),1),e("div",se,n(s(y).formatToMonthDay(t.create_time)),1)])]),e("div",oe,n(t.intro),1),e("div",ne,[i(g,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:V=>o.$router.push("planDetail?id="+t.id)},{default:_(()=>[e("span",le,n(s(a)("market.viewDetails")),1)]),_:2},1032,["onClick"]),i(g,{type:"primary",size:"small",round:"",class:"button",onClick:V=>R(t.id)},{default:_(()=>[e("span",ie,n(s(a)("market.startLaunch")),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished","finished-text","loading-text","error-text"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])]),i(U,{ref_key:"childRef",ref:p},null,512)],64)}}}),ye=J(re,[["__scopeId","data-v-10a4443e"]]);export{ye as default};
