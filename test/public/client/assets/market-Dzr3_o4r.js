import{d as S,V as $,a9 as I,a as i,W as h,f as o,X as a,Z as t,_ as r,Y as m,a0 as k,a1 as N,a3 as T,ab as U,a5 as g,a7 as H}from"./index-ukjrOXmD.js";import{P as M,L as A}from"./index-3tmxSALO.js";import{_ as E,B as F,p as C}from"./CpNavBar-CJ_J_C6V.js";import{_ as J}from"./CpImage.vue_vue_type_script_setup_true_lang-Ba3NuX_m.js";import{C as W}from"./CpPutin-BcBIajcK.js";import{a as X}from"./common-DRmPW0fO.js";import"./use-tab-status-Chvd7XOz.js";import"./index-CR2vy86L.js";import"./index-D-HXxA9e.js";import"./use-id-Bo6MzUit.js";import"./index-BVv6S0i2.js";const Y={class:"page"},Z={class:"header-info"},j={class:"title"},q={class:"description"},G={class:"plan-items"},K={class:"plan-card"},O={class:"plan-header"},Q={class:"plan-logo"},aa={class:"plan-main-info"},ea={class:"plan-name"},sa={class:"plan-company"},ta={class:"plan-time"},oa={class:"plan-desc"},na={class:"plan-footer"},la={class:"text-[12px] text-gray-500"},ia={class:"text-[12px]"},ra=S({__name:"market",setup(ca){const{t:n}=$(),w=X(),x=I(),L=U(),c=i({page:0,pageSize:10}),d=i(!1),f=i(!1),v=i([]),B=async()=>{f.value||(d.value=!0,c.value.page++,await C(c.value).then(s=>{v.value.push(...s.data.list),c.value.page>=s.data.total_page&&(f.value=!0),d.value=!1}).catch(()=>{d.value=!1}))},u=i(!1),P=async()=>{c.value.page=1,await C(c.value).then(s=>{v.value=s.data.list,u.value=!1}).catch(()=>{u.value=!1})},p=i(null),V=(s,l)=>{var _;if(((_=x.user)==null?void 0:_.set_pay_password)!=1){T(n("market.setPayPasswordHint")),L.push("paypassword?isJump=1");return}p.value&&(p.value.showBottom=!0,p.value.plan_id=s,p.value.plan_name=l)};return(s,l)=>{const _=E,b=J,y=F,D=A,R=M;return g(),h(k,null,[o(_),a("div",Y,[a("div",Z,[a("div",j,t(r(n)("market.planLaunchPlaza")),1),a("div",q,t(r(n)("market.choosePlanHint")),1)]),o(R,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),onRefresh:P},{default:m(()=>[o(D,{loading:d.value,"onUpdate:loading":l[0]||(l[0]=e=>d.value=e),finished:f.value,"finished-text":r(n)("common.noMore"),onLoad:B},{default:m(()=>[a("div",G,[(g(!0),h(k,null,N(v.value,e=>(g(),h("div",K,[a("div",O,[a("div",Q,[o(b,{name:e.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),a("div",aa,[a("div",ea,t(e.name),1),a("div",sa,t(e.company),1),a("div",ta,t(r(w).formatToMonthDay(e.create_time)),1)])]),a("div",oa,t(e.intro),1),a("div",na,[o(y,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:z=>s.$router.push("planDetail?id="+e.id)},{default:m(()=>[a("span",la,t(r(n)("market.viewDetails")),1)]),_:2},1032,["onClick"]),o(y,{type:"primary",size:"small",round:"",class:"button",onClick:z=>V(e.id,e.name)},{default:m(()=>[a("span",ia,t(r(n)("market.startLaunch")),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue"])]),o(W,{ref_key:"childRef",ref:p},null,512)],64)}}}),Ca=H(ra,[["__scopeId","data-v-a77627d0"]]);export{Ca as default};
