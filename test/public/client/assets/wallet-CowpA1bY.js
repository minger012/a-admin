import{K as z,_ as Y,P as Z,a as ss,B as ts,I as es,d as A,M as os,D as ls,N as as}from"./CpNavBar-IE_RTttE.js";import"./index-CmK2H8as.js";import{F as ns}from"./index-DbvPMBdp.js";import{P as is,N as ds}from"./index-9rsL44cy.js";import{P as rs,L as us}from"./index-AsGJPBTu.js";import{E as vs}from"./index-7gwlRWit.js";import ps from"./recharge-banner-Bkr9lTMK-CmkDWkGh.js";import{a as ms,u as fs}from"./common-qoeIF8Hz.js";import{d as _s,q as ws,r as n,w as E,o as cs,c as I,a as l,b as t,h as i,F as j,t as d,u as v,g as ys,f as gs,m as bs,i as B,_ as ks}from"./index-C8vOelEV.js";import"./use-id-CrmrtZtk.js";import"./use-tab-status-C1KnTicq.js";const xs={class:"page"},$s={class:"section"},Cs={class:"title-line"},hs={class:"title"},Bs={class:"money"},Ms={class:"amount"},Us={class:"money-content"},Vs={class:"money-item"},Ls={class:"text"},Ns={class:"money-item"},Ps={class:"text"},Ds={class:"money-item"},Is={class:"text"},Ss={class:"btn-wrap space-x-3"},Ts={class:"link-list"},Fs={class:"link-title"},Rs={class:"link-title"},zs={class:"record-wrap"},As={class:"record-list"},Es=["onClick"],js={class:"record-content"},Ks={class:"time"},Ws={class:"dialog-wrap"},qs={class:"content-wrap"},Js={class:"content-item"},Gs={class:"text"},Hs={class:"content-item"},Os={class:"text"},Qs={class:"content-item"},Xs={class:"text"},Ys={class:"content-item"},Zs={class:"text"},st={class:"dialog-wrap"},tt={class:"dialog-wrap"},et={class:"form-wrap"},ot={class:"input-wrap"},lt={class:"form-tips"},at={class:"count-money"},nt={class:"flex justify-center"},it={class:"dialog-wrap"},dt={class:"flex justify-center"},rt=_s({__name:"wallet",setup(ut){const S=ms(),{t:vt}=ws(),f=fs(),T=bs(),k=n({page:0,pageSize:10}),c=n(!1),x=n(!1),M=n([]),F=async()=>{x.value||(c.value=!0,k.value.page++,await as(k.value).then(e=>{M.value.push(...e.data.list),k.value.page>=e.data.total_page&&(x.value=!0),c.value=!1}).catch(()=>{c.value=!1}))},_=n(!1),K=()=>{z().then(e=>{a.value=e.data,_.value=!1}).catch(()=>_.value=!1),k.value.page=0,x.value=!1,M.value=[],F()},U=n(!1),$=n(!1),C=n(!1),V=n(!1),r=n(""),L=n(!0);E(r,e=>{const s=e.replace(/[^\d]/g,"").slice(0,6);s!==e&&(r.value=s),r.value.length==6?L.value=!1:L.value=!0});const w=n(),N=n(!0);E(w,e=>{e>0&&e<=a.value.money?N.value=!1:N.value=!0});const W=()=>{var e,s;if(a!=null&&a.value){if(((e=a.value)==null?void 0:e.set_card)==0){A("请先绑定提现方式"),T.push("bindCard");return}if(((s=a.value)==null?void 0:s.set_pay_password)==0){A("请先设置交易密码"),T.push("paypassword?isJump==1");return}C.value=!0}},R=async()=>{if(!r.value){$.value=!0;return}$.value=!1,await os(w.value,r.value).then(e=>{C.value=!1,w.value="",r.value="",location.reload(),ls(e.msg)})},q=e=>{e&&window.open(e)},a=n(),y=n();return cs(async()=>{_.value=!0,await z().then(e=>{a.value=e.data,_.value=!1}).catch(()=>_.value=!1)}),(e,s)=>{const J=Y,P=ss,g=ts,D=es,pt=vs,G=us,H=rs,h=Z,O=is,Q=ds,X=ns;return B(),I(j,null,[l(J),t("div",xs,[l(H,{modelValue:_.value,"onUpdate:modelValue":s[5]||(s[5]=o=>_.value=o),onRefresh:K,"pulling-text":"Pull down to refresh...","loosing-text":"Release to refresh...","loading-text":"loading..."},{default:i(()=>{var o,u,p,b;return[t("div",$s,[t("div",Cs,[t("div",hs,[s[16]||(s[16]=t("span",null,"总资产",-1)),l(P,{name:"eye"})]),s[17]||(s[17]=t("div",{class:"tag"},"USD",-1))]),t("div",Bs,[s[18]||(s[18]=t("span",{class:"currency"},"$",-1)),t("span",Ms,d(v(f).formatMoney((o=a.value)==null?void 0:o.money)),1)]),t("div",Us,[t("div",Vs,[s[19]||(s[19]=t("span",{class:"label"},"可用余额",-1)),t("span",Ls," $ "+d(v(f).formatMoney((u=a.value)==null?void 0:u.money)),1)]),t("div",Ns,[s[20]||(s[20]=t("span",{class:"label"},"待消耗",-1)),t("span",Ps," $ "+d(v(f).formatMoney((p=a.value)==null?void 0:p.wait_putIn)),1)]),t("div",Ds,[s[21]||(s[21]=t("span",{class:"label"},"待结算",-1)),t("span",Is," $ "+d(v(f).formatMoney((b=a.value)==null?void 0:b.wait_money)),1)])]),t("div",Ss,[l(g,{type:"primary",block:"",plain:"",round:"",onClick:s[0]||(s[0]=m=>W())},{default:i(()=>s[22]||(s[22]=[t("span",{class:"text-sm"},"提现",-1)])),_:1}),l(g,{type:"primary",round:"",onClick:s[1]||(s[1]=m=>V.value=!0),block:""},{default:i(()=>s[23]||(s[23]=[t("span",{class:"text-sm"},"存款",-1)])),_:1})]),t("div",Ts,[t("div",{class:"link-item",onClick:s[2]||(s[2]=m=>e.$router.push("bindCard"))},[t("div",Fs,[l(P,{name:"card-pos-2",size:"5vw"}),s[24]||(s[24]=t("span",{class:"label"},"绑定银行卡",-1))]),l(D,{name:"arrow"})]),t("div",{class:"link-item",onClick:s[3]||(s[3]=m=>e.$router.push("paypassword"))},[t("div",Rs,[l(P,{name:"edit-password",size:"5vw"}),s[25]||(s[25]=t("span",{class:"label"},"修改交易密码",-1))]),l(D,{name:"arrow"})])])]),t("div",zs,[s[27]||(s[27]=t("div",{class:"record-title"},"资金明细",-1)),t("div",As,[(B(),ys(G,{key:1,loading:c.value,"onUpdate:loading":s[4]||(s[4]=m=>c.value=m),finished:x.value,"finished-text":"no more","loading-text":"loading...","error-text":"fail",onLoad:F},{default:i(()=>[(B(!0),I(j,null,gs(M.value,m=>(B(),I("div",{class:"record-item",onClick:mt=>{U.value=!0,y.value=m}},[t("div",js,[s[26]||(s[26]=t("div",{class:"label"},null,-1)),t("div",Ks,d(v(S).formatToMonthDay(m.create_time,1)),1)]),l(D,{name:"arrow"})],8,Es))),256))]),_:1},8,["loading","finished"]))])])]}),_:1},8,["modelValue"])]),l(h,{show:U.value,"onUpdate:show":s[6]||(s[6]=o=>U.value=o),position:"bottom",round:"",style:{height:"55%"}},{default:i(()=>{var o,u,p,b;return[t("div",Ws,[s[32]||(s[32]=t("div",{class:"dialog-title",style:{margin:"0px"}},"明细详情",-1)),t("div",qs,[t("div",Js,[s[28]||(s[28]=t("div",{class:"label"},"编号",-1)),t("div",Gs,d((o=y.value)==null?void 0:o.id),1)]),t("div",Hs,[s[29]||(s[29]=t("div",{class:"label"},"时间",-1)),t("div",Os,d(v(S).formatToMonthDay((u=y.value)==null?void 0:u.create_time,1)),1)]),t("div",Qs,[s[30]||(s[30]=t("div",{class:"label"},"金额",-1)),t("div",Xs,"$ "+d(v(f).formatMoney((p=y.value)==null?void 0:p.cha)),1)]),t("div",Ys,[s[31]||(s[31]=t("div",{class:"label"},"备注",-1)),t("div",Zs,d((b=y.value)==null?void 0:b.remarks),1)])])])]}),_:1},8,["show"]),l(h,{show:$.value,"onUpdate:show":s[9]||(s[9]=o=>$.value=o),position:"bottom",round:"",style:{height:"95%"}},{default:i(()=>[t("div",st,[s[34]||(s[34]=t("div",{class:"dialog-title"},"交易密码",-1)),s[35]||(s[35]=t("div",{class:"desc"},"请输入您的交易密码",-1)),l(O,{value:r.value,length:6},null,8,["value"]),l(Q,{modelValue:r.value,"onUpdate:modelValue":s[7]||(s[7]=o=>r.value=o),show:!0},null,8,["modelValue"]),l(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:L.value,onClick:s[8]||(s[8]=o=>R())},{default:i(()=>s[33]||(s[33]=[t("span",{class:"text-sm"},"确认",-1)])),_:1},8,["disabled"])])]),_:1},8,["show"]),l(h,{show:C.value,"onUpdate:show":s[13]||(s[13]=o=>C.value=o),position:"bottom",round:"",style:{height:"50%"}},{default:i(()=>{var o;return[t("div",tt,[s[39]||(s[39]=t("div",{class:"dialog-title"},"提现",-1)),t("div",et,[s[37]||(s[37]=t("div",{class:"label"},"请输入您的提现金额",-1)),t("div",ot,[s[36]||(s[36]=t("span",{class:"label"},"$",-1)),l(X,{modelValue:w.value,"onUpdate:modelValue":s[10]||(s[10]=u=>w.value=u)},null,8,["modelValue"])]),t("div",lt,[t("span",at," 可用余额 $"+d(v(f).formatMoney((o=a.value)==null?void 0:o.money)),1),t("span",{class:"all-text",onClick:s[11]||(s[11]=u=>{var p;return w.value=v(f).formatMoney((p=a.value)==null?void 0:p.money)})},"全部提现")])]),t("div",nt,[l(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},disabled:N.value,onClick:s[12]||(s[12]=u=>R())},{default:i(()=>s[38]||(s[38]=[t("span",{class:"text-sm"},"提现",-1)])),_:1},8,["disabled"])])])]}),_:1},8,["show"]),l(h,{show:V.value,"onUpdate:show":s[15]||(s[15]=o=>V.value=o),position:"bottom",round:"",style:{height:"60%"}},{default:i(()=>[t("div",it,[s[41]||(s[41]=t("div",{class:"dialog-title",style:{margin:"0px"}},"存款提示",-1)),s[42]||(s[42]=t("img",{class:"banner",width:"343",src:ps,alt:""},null,-1)),s[43]||(s[43]=t("p",{class:"text"},"由于不同国家货币承兑问题",-1)),s[44]||(s[44]=t("p",{class:"text"},"当前只支持人工存款渠道",-1)),s[45]||(s[45]=t("p",{class:"text"},"请联系在线客服存款",-1)),t("div",dt,[l(g,{type:"primary",round:"",block:"",style:{"margin-top":"2rem"},onClick:s[14]||(s[14]=o=>q(a.value.re_service_address))},{default:i(()=>s[40]||(s[40]=[t("span",{class:"text-sm"},"联系客服",-1)])),_:1})])])]),_:1},8,["show"])],64)}}}),ht=ks(rt,[["__scopeId","data-v-7af83cc2"]]);export{ht as default};
