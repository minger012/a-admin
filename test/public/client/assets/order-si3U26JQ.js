import{n as P,t as O,c as E,G as M,s as W,_ as q,B as G,S}from"./CpNavBar-BMqH4n_0.js";import{P as X,L as j}from"./index-COxqATPA.js";import{_ as H}from"./CpImage.vue_vue_type_script_setup_true_lang-CZBy1K0E.js";import{a as J}from"./common-o-P_1aOo.js";import{C as K}from"./CpPutin-DKEv8db7.js";import{d as B,c as Q,b as a,u as Y,a as u,w as Z,l as w,q as t,s as C,F as $,y as o,A as tt,E as et,x as n,C as b,_ as st}from"./index-t-Fq5SeY.js";import{T as at,a as ot}from"./index-D8AHyqmS.js";import"./use-tab-status-CXW6XJJT.js";import"./index-B5bbYT6C.js";import"./use-id-Cigesy1j.js";import"./index-nUDcnRdm.js";const[nt,x]=E("progress"),it={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:O,pivotColor:String,trackColor:String,strokeWidth:P,percentage:{type:P,default:0,validator:l=>+l>=0&&+l<=100}};var lt=B({name:nt,props:it,setup(l){const g=Q(()=>l.inactive?void 0:l.color),e=()=>{const{textColor:_,pivotText:i,pivotColor:d,percentage:c}=l,p=i??`${c}%`;if(l.showPivot&&p){const f={color:_,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:d||g.value};return a("span",{style:f,class:x("pivot",{inactive:l.inactive})},[p])}};return()=>{const{trackColor:_,percentage:i,strokeWidth:d}=l,c={background:_,height:M(d)},p={width:`${i}%`,background:g.value};return a("div",{class:x(),style:c},[a("span",{class:x("portion",{inactive:l.inactive}),style:p},null),e()])}}});const rt=W(lt),ct={class:"page"},dt={class:"tab-wrap"},pt={class:"p-4"},_t=["onClick"],mt={class:"push-tag"},ut={class:"title-line"},vt={class:"title"},ht={class:"status"},gt={class:"plan-content"},ft={class:"banner"},yt={class:"van-swipe my-swipe"},wt={class:"van-swipe__track",style:{"transition-duration":"0ms",transform:"translateX(0px)",width:"165px"}},Ct={class:"van-swipe-item",style:{width:"165px"}},bt={class:"app-content"},xt={class:"app-title"},kt={class:"logo"},Pt={class:"app-title-wrap"},St={class:"app-name"},$t={class:"app-desc"},Bt={class:"app-tag"},Nt={class:"tag"},Tt={class:"tag"},Lt={class:"plan-text"},Vt={class:"put-wrap"},At={class:"put-item"},Dt={class:"label"},Ft={class:"value"},It={class:"put-item"},Rt={class:"label"},Ut={class:"progress"},zt={class:"progress-text"},Ot={class:"title-line mt-2"},Et={class:"title"},Mt={key:0,class:"btn-wrap"},Wt={class:"text-[3.2vw]"},qt=B({__name:"order",setup(l){const g=J(),{t:e}=Y(),_=u(0),i=u({page:0,pageSize:10,type:_.value}),d=u(!1),c=u(!1),p=u([]),f=async()=>{c.value||(d.value=!0,i.value.page++,await S(i.value).then(r=>{p.value.push(...r.data.list),i.value.page>=r.data.total_page&&(c.value=!0),d.value=!1}).catch(()=>{d.value=!1}))},y=u(!1),N=async()=>{i.value.page=1,await S(i.value).then(r=>{p.value=r.data.list,y.value=!1}).catch(()=>{y.value=!1})};Z(_,async r=>{i.value.page=0,i.value.type=r,p.value=[],c.value=!1,f()});const h=u(null),T=(r,m)=>{h.value&&(h.value.showBottom3=!0,h.value.plan_id=r,h.value.plan_name=r)};let L={1:e("order.officialPush"),2:e("order.unofficialPush")},V={0:e("order.pendingPlacement"),1:e("order.matching"),2:e("order.placing"),3:e("order.placementFailed"),4:e("order.waitingSettlement"),5:e("order.settlementSuccess")};return(r,m)=>{const A=q,v=ot,D=at,k=H,F=rt,I=G,R=j,U=X;return b(),w($,null,[a(A,{isLoginOut:!0}),t("div",ct,[t("div",dt,[a(D,{active:_.value,"onUpdate:active":m[0]||(m[0]=s=>_.value=s)},{default:C(()=>[a(v,{title:o(e)("order.all")},null,8,["title"]),a(v,{title:o(e)("order.pendingPlacement")},null,8,["title"]),a(v,{title:o(e)("order.matching")},null,8,["title"]),a(v,{title:o(e)("order.placing")},null,8,["title"]),a(v,{title:o(e)("order.placementFailed")},null,8,["title"]),a(v,{title:o(e)("order.placementCompleted")},null,8,["title"])]),_:1},8,["active"])]),t("div",pt,[a(U,{modelValue:y.value,"onUpdate:modelValue":m[2]||(m[2]=s=>y.value=s),onRefresh:N},{default:C(()=>[a(R,{loading:d.value,"onUpdate:loading":m[1]||(m[1]=s=>d.value=s),finished:c.value,onLoad:f,"finished-text":o(e)("common.noMore")},{default:C(()=>[(b(!0),w($,null,tt(p.value,s=>(b(),w("div",{class:"plan-item",onClick:z=>r.$router.push("orderDetail?id="+s.id)},[t("div",mt,n(o(L)[s.form]),1),t("div",ut,[t("span",vt,n(o(e)("order.planNumber"))+": "+n(s.order_no),1),t("span",ht,n(o(V)[s.state]),1)]),t("div",gt,[t("div",ft,[t("div",yt,[t("div",wt,[t("div",Ct,[a(k,{name:s.image,width:"10.3rem",height:"5.75rem",radius:"10%"},null,8,["name"])])])])]),t("div",bt,[t("div",xt,[t("div",kt,[a(k,{name:s.goods_logo,width:"1.875rem",height:"1.875rem",radius:"10%"},null,8,["name"])]),t("div",Pt,[t("div",St,n(s.goods_name),1),t("div",$t,n(s.type_name),1)])]),t("div",Bt,[t("div",Nt,n(o(e)("order.video")),1),t("div",Tt,n(o(e)("order.landingPage")),1)])])]),t("div",Lt,n(s.goods_intro),1),t("div",Vt,[t("div",At,[t("span",Dt,n(o(e)("order.placementAmount")),1),t("span",Ft,"$ "+n(s.money),1)]),t("div",It,[t("span",Rt,n(o(e)("order.placementProgress")),1),t("div",Ut,[a(F,{percentage:100,style:{height:"5px"}}),t("span",zt,n(s.schedule)+"%",1)])])]),t("div",Ot,[t("span",Et,n(o(e)("order.createTime"))+": "+n(o(g).formatToMonthDay(s.create_time,2)),1)]),s.state==0?(b(),w("div",Mt,[a(I,{type:"primary",size:"small",round:"",class:"button",onClick:z=>T(s.plan_id,s.name),style:{width:"6.5rem",height:"2.125rem","z-index":"999"}},{default:C(()=>[t("span",Wt,n(o(e)("order.placement")),1)]),_:2},1032,["onClick"])])):et("",!0)],8,_t))),256))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue"])])]),a(K,{ref_key:"childRef",ref:h},null,512)],64)}}}),se=st(qt,[["__scopeId","data-v-9c1d6258"]]);export{se as default};
