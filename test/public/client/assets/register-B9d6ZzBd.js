import{g as R,d as B,q as U,n as j,E as $,a as g,c as y,f as n,t as A,m as E,I as T,ac as S,ad as q,w as H,e as K,R as L,B as M,A as X,J as Y,V as J,a9 as W,v as Z,W as Q,X as u,Z as p,_ as a,Y as P,P as ee,a0 as te,$ as oe,a3 as le,ab as ae,aa as ne,a5 as se,a7 as re}from"./index-ukjrOXmD.js";import{_ as ie,b as de,B as ce,r as ue}from"./CpNavBar-CJ_J_C6V.js";import{C as me,u as ve,p as G,m as fe,c as be}from"./rules-DWpVaFNl.js";import"./index-Dd7dhn4_.js";import{F as pe}from"./index-BSXJ2mMS.js";import{_ as ge}from"./CpImage.vue_vue_type_script_setup_true_lang-Ba3NuX_m.js";import{F as he}from"./index-Dclf8f_f.js";import"./use-id-Bo6MzUit.js";const[_e,Xe]=R("checkbox-group"),ke=Symbol(_e),F={name:U,disabled:Boolean,iconSize:j,modelValue:U,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var xe=B({props:$({},F,{bem:E(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:A,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:l,slots:h}){const v=g(),m=o=>{if(e.parent&&e.bindGroup)return e.parent.props[o]},s=y(()=>{if(e.parent&&e.bindGroup){const o=m("disabled")||e.disabled;if(e.role==="checkbox"){const b=m("modelValue").length,d=m("max"),t=d&&b>=+d;return o||t&&!e.checked}return o}return e.disabled}),_=y(()=>m("direction")),i=y(()=>{const o=e.checkedColor||m("checkedColor");if(o&&e.checked&&!s.value)return{borderColor:o,backgroundColor:o}}),f=y(()=>e.shape||m("shape")||"round"),k=o=>{const{target:b}=o,d=v.value,t=d===b||(d==null?void 0:d.contains(b));!s.value&&(t||!e.labelDisabled)&&l("toggle"),l("click",o)},x=()=>{var o,b;const{bem:d,checked:t,indeterminate:w}=e,V=e.iconSize||m("iconSize");return n("div",{ref:v,class:d("icon",[f.value,{disabled:s.value,checked:t,indeterminate:w}]),style:f.value!=="dot"?{fontSize:S(V)}:{width:S(V),height:S(V),borderColor:(o=i.value)==null?void 0:o.borderColor}},[h.icon?h.icon({checked:t,disabled:s.value}):f.value!=="dot"?n(T,{name:w?"minus":"success",style:i.value},null):n("div",{class:d("icon--dot__icon"),style:{backgroundColor:(b=i.value)==null?void 0:b.backgroundColor}},null)])},c=()=>{const{checked:o}=e;if(h.default)return n("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[h.default({checked:o,disabled:s.value})])};return()=>{const o=e.labelPosition==="left"?[c(),x()]:[x(),c()];return n("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},_.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:k},[o])}}});const[Ve,Ce]=R("checkbox"),ye=$({},F,{shape:String,bindGroup:A,indeterminate:{type:Boolean,default:null}});var we=B({name:Ve,props:ye,emits:["change","update:modelValue"],setup(e,{emit:l,slots:h}){const{parent:v}=q(ke),m=i=>{const{name:f}=e,{max:k,modelValue:x}=v.props,c=x.slice();if(i)!(k&&c.length>=+k)&&!c.includes(f)&&(c.push(f),e.bindGroup&&v.updateValue(c));else{const o=c.indexOf(f);o!==-1&&(c.splice(o,1),e.bindGroup&&v.updateValue(c))}},s=y(()=>v&&e.bindGroup?v.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),_=(i=!s.value)=>{v&&e.bindGroup?m(i):l("update:modelValue",i),e.indeterminate!==null&&l("change",i)};return H(()=>e.modelValue,i=>{e.indeterminate===null&&l("change",i)}),K({toggle:_,props:e,checked:s}),L(()=>e.modelValue),()=>n(xe,X({bem:Ce,role:"checkbox",parent:v,checked:s.value,onToggle:_},e),M(h,["default","icon"]))}});const Pe=Y(we),Se={class:"page"},Be={class:"flex flex-col justify-center items-center"},Ue={class:"flex justify-center mt-16"},Ge={class:"text-[1.75rem] font-bold mt-6"},Re={class:"text-base text-gray-500 mt-3"},$e={class:"mt-8"},Ae={class:"flex items-center px-5 pt-3"},Fe={class:"ml-2"},Ie={class:"pt-6"},Oe={class:"font-[600] text-base"},ze={class:"flex justify-center my-3 text-2xl font-bold"},De={class:"p-3"},Ne=B({__name:"register",setup(e){const{t:l}=J(),h=W(),v=ae(),m=g(""),s=g(""),_=g(""),i=g(""),f=g(""),k=g(!1),x=async()=>{if(!k.value){le(l("register.agreeTermsHint"));return}await ue({username:m.value,password:s.value,repassword:_.value,mobile:i.value,code:f.value}).then(d=>{h.setUser(d.data),v.push("/"),ne()})},c=g(!1),o=g([]),b=async()=>{await de("8").then(d=>{o.value=d.data})};return Z(async()=>{Promise.all([b()])}),(d,t)=>{const w=ie,V=ge,C=pe,I=me,O=Pe,z=ce,D=he,N=ee;return se(),Q(te,null,[n(w,{title:"",isBack:!1,isLogin:!0}),u("div",Se,[u("div",Be,[u("div",Ue,[n(V,{name:"logo-C8lBymrN",width:"10rem",height:"7.75rem"})]),u("div",Ge,p(a(l)("register.createAccount")),1),u("div",Re,p(a(l)("register.startUsingHint")),1)]),u("div",$e,[n(D,{required:"auto"},{default:P(()=>[n(I,{inset:""},{default:P(()=>[n(C,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),"left-icon":"user-o",placeholder:a(l)("register.enterUsername"),rules:a(ve)},null,8,["modelValue","placeholder","rules"]),n(C,{type:"password",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value=r),"left-icon":"shield-o",placeholder:a(l)("register.enterPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(C,{type:"password",modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=r=>_.value=r),"left-icon":"shield-o",placeholder:a(l)("register.confirmPassword"),rules:a(G)},null,8,["modelValue","placeholder","rules"]),n(C,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=r=>i.value=r),"left-icon":"phone-o",placeholder:a(l)("register.enterMobile"),rules:a(fe)},null,8,["modelValue","placeholder","rules"]),n(C,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=r=>f.value=r),"left-icon":"label-o",placeholder:a(l)("register.authCode"),rules:a(be)},null,8,["modelValue","placeholder","rules"])]),_:1}),u("div",Ae,[n(O,{modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=r=>k.value=r),shape:"square","icon-size":"15px"},null,8,["modelValue"]),u("div",Fe,[oe(p(a(l)("register.readAndAgree")),1),u("span",{class:"text-primary",onClick:t[6]||(t[6]=r=>c.value=!0)},p(a(l)("register.termsOfService")),1)])]),u("div",Ie,[n(z,{"native-type":"submit",block:"",round:"",type:"primary",onClick:t[7]||(t[7]=r=>x())},{default:P(()=>[u("span",Oe,p(a(l)("register.register")),1)]),_:1})])]),_:1}),u("div",{class:"flex justify-center items-center mt-12 text-primary text-[15px] pb-4",onClick:t[8]||(t[8]=r=>d.$router.push("login"))},p(a(l)("register.haveAccount"))+" "+p(a(l)("register.login")),1)])]),n(N,{show:c.value,"onUpdate:show":t[9]||(t[9]=r=>c.value=r),round:"",position:"bottom",style:{height:"90%"}},{default:P(()=>[u("h1",ze,p(a(l)("register.termsOfService")),1),u("div",De,p(o.value[8].length>0?o.value[8]:""),1)]),_:1},8,["show"])],64)}}}),Ye=re(Ne,[["__scopeId","data-v-ee857a93"]]);export{Ye as default};
