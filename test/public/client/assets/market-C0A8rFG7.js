import{_ as S,B as $,Q as k,A}from"./CpNavBar-BEpOqNwz.js";import{P as H,L as I}from"./index-DSnf37WV.js";import{_ as N}from"./CpImage.vue_vue_type_script_setup_true_lang-CHeeNF9Z.js";import{C as T}from"./CpPutin-DxuQi98z.js";import{a as U}from"./common-MFFV5Eot.js";import{d as F,u as M,G as q,a as i,l as h,b as o,q as a,x as t,y as r,s as m,F as C,A as E,H as G,C as g,_ as J}from"./index-CS2Ya4Ki.js";import"./use-tab-status-DADCZxH9.js";import"./index-CIPAbOIm.js";import"./index-CIBNaqdH.js";import"./use-id-sX8ZKSaD.js";import"./index-MO7IvCiQ.js";const Q={class:"page"},j={class:"header-info"},K={class:"title"},O={class:"description"},W={class:"plan-items"},X={class:"plan-card"},Y={class:"plan-header"},Z={class:"plan-logo"},aa={class:"plan-main-info"},ea={class:"plan-name"},sa={class:"plan-company"},ta={class:"plan-time"},oa={class:"plan-desc"},na={class:"plan-footer"},la={class:"text-[12px] text-gray-500"},ia={class:"text-[12px]"},ra=F({__name:"market",setup(ca){const{t:n}=M(),x=U(),w=q(),L=G(),c=i({page:0,pageSize:10}),d=i(!1),v=i(!1),f=i([]),B=async()=>{v.value||(d.value=!0,c.value.page++,await k(c.value).then(s=>{f.value.push(...s.data.list),c.value.page>=s.data.total_page&&(v.value=!0),d.value=!1}).catch(()=>{d.value=!1}))},p=i(!1),P=async()=>{c.value.page=1,await k(c.value).then(s=>{f.value=s.data.list,p.value=!1}).catch(()=>{p.value=!1})},u=i(null),b=(s,l)=>{var _;if(((_=w.user)==null?void 0:_.set_pay_password)!=1){A(n("market.setPayPasswordHint")),L.push("paypassword?isJump=1");return}u.value&&(u.value.showBottom=!0,u.value.plan_id=s,u.value.plan_name=l)};return(s,l)=>{const _=S,D=N,y=$,R=I,V=H;return g(),h(C,null,[o(_),a("div",Q,[a("div",j,[a("div",K,t(r(n)("market.planLaunchPlaza")),1),a("div",O,t(r(n)("market.choosePlanHint")),1)]),o(V,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),onRefresh:P},{default:m(()=>[o(R,{loading:d.value,"onUpdate:loading":l[0]||(l[0]=e=>d.value=e),finished:v.value,"finished-text":r(n)("common.noMore"),onLoad:B},{default:m(()=>[a("div",W,[(g(!0),h(C,null,E(f.value,e=>(g(),h("div",X,[a("div",Y,[a("div",Z,[o(D,{name:e.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),a("div",aa,[a("div",ea,t(e.name),1),a("div",sa,t(e.company),1),a("div",ta,t(r(x).formatToMonthDay(e.create_time)),1)])]),a("div",oa,t(e.intro),1),a("div",na,[o(y,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:z=>s.$router.push("planDetail?id="+e.id)},{default:m(()=>[a("span",la,t(r(n)("market.viewDetails")),1)]),_:2},1032,["onClick"]),o(y,{type:"primary",size:"small",round:"",class:"button",onClick:z=>b(e.id,e.name)},{default:m(()=>[a("span",ia,t(r(n)("market.startLaunch")),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue"])]),o(T,{ref_key:"childRef",ref:u},null,512)],64)}}}),Ca=J(ra,[["__scopeId","data-v-a77627d0"]]);export{Ca as default};
