import{d as z,V as S,ac as I,a as i,W as h,f as o,Y as a,a0 as t,a1 as r,$ as m,Z as k,_ as N,a5 as T,a7 as U,a8 as g,aa as H}from"./index-vQrqw6fU.js";import{P as M,L as A}from"./index-B4WzkpQL.js";import{_ as E,B as F,p as C}from"./CpNavBar-DUuFUbYm.js";import{_ as J}from"./CpImage.vue_vue_type_script_setup_true_lang-DWdHER7O.js";import{C as W}from"./CpPutin-DGUNdd6p.js";import{a as Y}from"./common--UIybQxO.js";import"./use-tab-status-kLUgJ0_C.js";import"./index-BsljJ3Mb.js";import"./index-B_uFr37X.js";import"./use-id-8PMqNpWA.js";import"./index-CeDYH7LT.js";const Z={class:"page"},j={class:"header-info"},q={class:"title"},G={class:"description"},K={class:"plan-items"},O={class:"plan-card"},Q={class:"plan-header"},X={class:"plan-logo"},aa={class:"plan-main-info"},ea={class:"plan-name"},sa={class:"plan-company"},ta={class:"plan-time"},oa={class:"plan-desc"},na={class:"plan-footer"},la={class:"text-[12px] text-gray-500"},ia={class:"text-[12px]"},ra=z({__name:"market",setup(ca){const{t:n}=S(),w=Y(),x=I(),L=U(),c=i({page:0,pageSize:10}),d=i(!1),f=i(!1),v=i([]),B=async()=>{f.value||(d.value=!0,c.value.page++,await C(c.value).then(s=>{v.value.push(...s.data.list),c.value.page>=s.data.total_page&&(f.value=!0),d.value=!1}).catch(()=>{d.value=!1}))},u=i(!1),P=async()=>{c.value.page=1,await C(c.value).then(s=>{v.value=s.data.list,u.value=!1}).catch(()=>{u.value=!1})},p=i(null),V=(s,l)=>{var _;if(((_=x.user)==null?void 0:_.set_pay_password)!=1){T(n("market.setPayPasswordHint")),L.push("paypassword?isJump=1");return}p.value&&(p.value.showBottom=!0,p.value.plan_id=s,p.value.plan_name=l)};return(s,l)=>{const _=E,D=J,y=F,R=A,$=M;return g(),h(k,null,[o(_),a("div",Z,[a("div",j,[a("div",q,t(r(n)("market.planLaunchPlaza")),1),a("div",G,t(r(n)("market.choosePlanHint")),1)]),o($,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),onRefresh:P},{default:m(()=>[o(R,{loading:d.value,"onUpdate:loading":l[0]||(l[0]=e=>d.value=e),finished:f.value,"finished-text":r(n)("common.noMore"),onLoad:B},{default:m(()=>[a("div",K,[(g(!0),h(k,null,N(v.value,e=>(g(),h("div",O,[a("div",Q,[a("div",X,[o(D,{name:e.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),a("div",aa,[a("div",ea,t(e.name),1),a("div",sa,t(e.company),1),a("div",ta,t(r(w).formatToMonthDay(e.create_time)),1)])]),a("div",oa,t(e.intro),1),a("div",na,[o(y,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:b=>s.$router.push("planDetail?id="+e.id)},{default:m(()=>[a("span",la,t(r(n)("market.viewDetails")),1)]),_:2},1032,["onClick"]),o(y,{type:"primary",size:"small",round:"",class:"button",onClick:b=>V(e.id,e.name)},{default:m(()=>[a("span",ia,t(r(n)("market.startLaunch")),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue"])]),o(W,{ref_key:"childRef",ref:p},null,512)],64)}}}),Ca=H(ra,[["__scopeId","data-v-a77627d0"]]);export{Ca as default};
