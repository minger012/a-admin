import{n as S,t as F,e as W,h as q,w as E,_ as M,B as X,z as x}from"./CpNavBar-C6kWJ5zi.js";import{P as j,L as G}from"./index-yUXsrzyI.js";import{_ as H}from"./CpImage.vue_vue_type_script_setup_true_lang-1MsA-5cW.js";import{a as J}from"./common-6_y_QWEd.js";import{C as K}from"./CpPutin-Dact8UdK.js";import{d as B,n as Q,a as e,q as Y,r as u,w as Z,c as g,b as t,h as f,F as $,f as tt,k as st,t as d,u as b,i as w,_ as et}from"./index-CjmkDDmm.js";import{T as at,a as ot}from"./index-Dw3OSUdf.js";import"./use-tab-status-CDHW3uOn.js";import"./index-DfLTDm93.js";import"./use-id-CaLom9W9.js";import"./index-DpUhqbRQ.js";const[nt,k]=W("progress"),it={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:F,pivotColor:String,trackColor:String,strokeWidth:S,percentage:{type:S,default:0,validator:n=>+n>=0&&+n<=100}};var lt=B({name:nt,props:it,setup(n){const m=Q(()=>n.inactive?void 0:n.color),C=()=>{const{textColor:p,pivotText:o,pivotColor:r,percentage:c}=n,i=o??`${c}%`;if(n.showPivot&&i){const y={color:p,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:r||m.value};return e("span",{style:y,class:k("pivot",{inactive:n.inactive})},[i])}};return()=>{const{trackColor:p,percentage:o,strokeWidth:r}=n,c={background:p,height:q(r)},i={width:`${o}%`,background:m.value};return e("div",{class:k(),style:c},[e("span",{class:k("portion",{inactive:n.inactive}),style:i},null),C()])}}});const rt=E(lt),ct={class:"page"},dt={class:"tab-wrap"},pt={class:"p-4"},_t=["onClick"],ut={class:"push-tag"},vt={class:"title-line"},mt={class:"title"},ht={class:"status"},gt={class:"plan-content"},ft={class:"banner"},wt={class:"van-swipe my-swipe"},yt={class:"van-swipe__track",style:{"transition-duration":"0ms",transform:"translateX(0px)",width:"165px"}},xt={class:"van-swipe-item",style:{width:"165px"}},bt={class:"app-content"},kt={class:"app-title"},Ct={class:"logo"},Pt={class:"app-title-wrap"},St={class:"app-name"},$t={class:"app-desc"},Bt={class:"plan-text"},Lt={class:"put-wrap"},Nt={class:"put-item"},Tt={class:"value"},Vt={class:"put-item"},Rt={class:"progress"},zt={class:"progress-text"},Dt={class:"title-line mt-2"},It={class:"title"},Ut={key:0,class:"btn-wrap"},Ot=B({__name:"order",setup(n){const m=J(),{t:C}=Y(),p=u(0),o=u({page:0,pageSize:10,type:p.value}),r=u(!1),c=u(!1),i=u([]),y=async()=>{c.value||(r.value=!0,o.value.page++,await x(o.value).then(l=>{i.value.push(...l.data.list),o.value.page>=l.data.total_page&&(c.value=!0),r.value=!1}).catch(()=>{r.value=!1}))},_=u(!1),L=async()=>{o.value.page=1,await x(o.value).then(l=>{i.value=l.data.list,_.value=!1}).catch(()=>{_.value=!1})};Z(p,async l=>{o.value.page=1,o.value.type=l,i.value=[],_.value=!0,await x(o.value).then(a=>{i.value=a.data.list,_.value=!1}).catch(()=>{_.value=!1})});const h=u(null),N=l=>{h.value&&(h.value.showBottom3=!0,h.value.plan_id=l)};let T={1:"官方推送",2:"非官方推送"},V={0:"待投放",1:"匹配中",2:"投放中",3:"投放失败",4:"等待结算",5:"结算成功"};return(l,a)=>{const R=M,v=ot,z=at,P=H,D=rt,I=X,U=G,O=j;return w(),g($,null,[e(R,{isLoginOut:!0}),t("div",ct,[t("div",dt,[e(z,{active:p.value,"onUpdate:active":a[0]||(a[0]=s=>p.value=s)},{default:f(()=>[e(v,{title:"全部"}),e(v,{title:"待投放"}),e(v,{title:"匹配中"}),e(v,{title:"投放中"}),e(v,{title:"投放失败"}),e(v,{title:"投放完成"})]),_:1},8,["active"])]),t("div",pt,[e(O,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=s=>_.value=s),onRefresh:L,"pulling-text":"Pull down to refresh...","loosing-text":"Release to refresh...","loading-text":"loading..."},{default:f(()=>[e(U,{loading:r.value,"onUpdate:loading":a[1]||(a[1]=s=>r.value=s),finished:c.value,"finished-text":"no more","loading-text":"loading...","error-text":"fail",onLoad:y},{default:f(()=>[(w(!0),g($,null,tt(i.value,s=>(w(),g("div",{class:"plan-item",onClick:A=>l.$router.push("orderDetail?id="+s.id)},[t("div",ut,d(b(T)[s.form]),1),t("div",vt,[t("span",mt,"计划编号: "+d(s.order_no),1),t("span",ht,d(b(V)[s.state]),1)]),t("div",gt,[t("div",ft,[t("div",wt,[t("div",yt,[t("div",xt,[e(P,{name:s.image,width:"10.3rem",height:"5.75rem",radius:"10%"},null,8,["name"])])])])]),t("div",bt,[t("div",kt,[t("div",Ct,[e(P,{name:s.goods_logo,width:"1.875rem",height:"1.875rem",radius:"10%"},null,8,["name"])]),t("div",Pt,[t("div",St,d(s.goods_name),1),t("div",$t,d(s.type_name),1)])]),a[3]||(a[3]=t("div",{class:"app-tag"},[t("div",{class:"tag"},"視頻"),t("div",{class:"tag"},"落地頁")],-1))])]),t("div",Bt,d(s.goods_intro),1),t("div",Lt,[t("div",Nt,[a[4]||(a[4]=t("span",{class:"label"},"投放金額",-1)),t("span",Tt,"$ "+d(s.money),1)]),t("div",Vt,[a[5]||(a[5]=t("span",{class:"label"},"投放進度",-1)),t("div",Rt,[e(D,{percentage:100,style:{height:"5px"}}),t("span",zt,d(s.schedule)+"%",1)])])]),t("div",Dt,[t("span",It," 創建時間: "+d(b(m).formatToMonthDay(s.create_time,2)),1)]),s.state==0?(w(),g("div",Ut,[e(I,{type:"primary",size:"small",round:"",class:"button",onClick:A=>N(s.plan_id),style:{width:"6.5rem",height:"2.125rem","z-index":"999"}},{default:f(()=>a[6]||(a[6]=[t("span",{class:"text-[3.2vw]"},"投放",-1)])),_:2},1032,["onClick"])])):st("",!0)],8,_t))),256))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])]),e(K,{ref_key:"childRef",ref:h},null,512)],64)}}}),Kt=et(Ot,[["__scopeId","data-v-5797d76a"]]);export{Kt as default};
