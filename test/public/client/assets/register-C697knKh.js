import{g as G,d as U,q as $,n as E,E as R,a as g,c as S,f as s,t as D,m as H,I as N,ak as q,al as L,w as M,e as J,R as K,B as X,A as Y,J as W,V as Z,ah as Q,v as ee,W as te,Y as u,$ as B,a0 as V,a1 as f,P as ae,Z as oe,a8 as se,a2 as le,a6 as ne,am as re,a9 as ie,aj as de,aa as ue,af as ce}from"./index-CW24Rrz8.js";import{_ as me,B as ve}from"./CpNavBar-CJHi_sXB.js";import"./index-B90dZW2P.js";import{F as fe}from"./index-CKNkarPs.js";import{_ as be}from"./CpImage.vue_vue_type_script_setup_true_lang-CVqbusnH.js";import{F as ge}from"./index-B51PszVi.js";import"./use-id-DPpD5rJm.js";const[pe,Ne]=G("checkbox-group"),he=Symbol(pe),F={name:$,disabled:Boolean,iconSize:E,modelValue:$,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var _e=U({props:R({},F,{bem:H(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:D,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:p}){const c=g(),d=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},l=S(()=>{if(e.parent&&e.bindGroup){const a=d("disabled")||e.disabled;if(e.role==="checkbox"){const b=d("modelValue").length,v=d("max"),k=v&&b>=+v;return a||k&&!e.checked}return a}return e.disabled}),h=S(()=>d("direction")),r=S(()=>{const a=e.checkedColor||d("checkedColor");if(a&&e.checked&&!l.value)return{borderColor:a,backgroundColor:a}}),m=S(()=>e.shape||d("shape")||"round"),_=a=>{const{target:b}=a,v=c.value,k=v===b||(v==null?void 0:v.contains(b));!l.value&&(k||!e.labelDisabled)&&t("toggle"),t("click",a)},x=()=>{var a,b;const{bem:v,checked:k,indeterminate:C}=e,y=e.iconSize||d("iconSize");return s("div",{ref:c,class:v("icon",[m.value,{disabled:l.value,checked:k,indeterminate:C}]),style:m.value!=="dot"?{fontSize:q(y)}:{width:q(y),height:q(y),borderColor:(a=r.value)==null?void 0:a.borderColor}},[p.icon?p.icon({checked:k,disabled:l.value}):m.value!=="dot"?s(N,{name:C?"minus":"success",style:r.value},null):s("div",{class:v("icon--dot__icon"),style:{backgroundColor:(b=r.value)==null?void 0:b.backgroundColor}},null)])},i=()=>{const{checked:a}=e;if(p.default)return s("span",{class:e.bem("label",[e.labelPosition,{disabled:l.value}])},[p.default({checked:a,disabled:l.value})])};return()=>{const a=e.labelPosition==="left"?[i(),x()]:[x(),i()];return s("div",{role:e.role,class:e.bem([{disabled:l.value,"label-disabled":e.labelDisabled},h.value]),tabindex:l.value?void 0:0,"aria-checked":e.checked,onClick:_},[a])}}});const[ke,xe]=G("checkbox"),Ve=R({},F,{shape:String,bindGroup:D,indeterminate:{type:Boolean,default:null}});var Ce=U({name:ke,props:Ve,emits:["change","update:modelValue"],setup(e,{emit:t,slots:p}){const{parent:c}=L(he),d=r=>{const{name:m}=e,{max:_,modelValue:x}=c.props,i=x.slice();if(r)!(_&&i.length>=+_)&&!i.includes(m)&&(i.push(m),e.bindGroup&&c.updateValue(i));else{const a=i.indexOf(m);a!==-1&&(i.splice(a,1),e.bindGroup&&c.updateValue(i))}},l=S(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),h=(r=!l.value)=>{c&&e.bindGroup?d(r):t("update:modelValue",r),e.indeterminate!==null&&t("change",r)};return M(()=>e.modelValue,r=>{e.indeterminate===null&&t("change",r)}),J({toggle:h,props:e,checked:l}),K(()=>e.modelValue),()=>s(_e,Y({bem:xe,role:"checkbox",parent:c,checked:l.value,onToggle:h},e),X(p,["default","icon"]))}});const ye=W(Ce),we={class:"page"},Pe={class:"flex flex-col justify-center items-center"},Se={class:"flex justify-center mt-16"},qe={class:"mt-16"},Be={class:"flex items-center px-5 pt-3"},Ue={class:"ml-2"},$e={class:"pt-6"},Ge={class:"font-[600] text-base"},Re={class:"flex justify-center my-3 text-2xl font-bold"},De={class:"p-3"},Fe=["innerHTML"],Ie=U({__name:"register",setup(e){const{t}=Z(),p=Q(),c=ie(),d=g(""),l=g(""),h=g(""),r=g(""),m=g(""),_=g(!1),x=async()=>{if(!_.value){ne(t("register.agreeTermsHint"));return}await re({username:d.value,password:l.value,repassword:h.value,mobile:r.value,code:m.value}).then(w=>{p.setUser(w.data),c.push("/"),de()})},i=g(!1),a=g([]),b=async()=>{await se("8").then(w=>{a.value=w.data})};ee(async()=>{Promise.all([b()])});const v=[{required:!0,message:t("rules.mobile.required")}],k=[{required:!0,message:t("rules.username.required")}],C=[{required:!0,message:t("rules.password.required")}],y=[{required:!0,message:t("rules.code.required")}];return t("rules.name.required"),t("rules.name.pattern"),t("rules.idCard.required"),t("rules.idCard.pattern"),(w,o)=>{const I=me,O=be,P=fe,T=ye,j=ve,z=ge,A=ae;return ue(),te(oe,null,[s(I,{title:"",isBack:!1,isLogin:!0}),u("div",we,[u("div",Pe,[u("div",Se,[s(O,{name:"5D8s-GsHJlJ",width:"3.75rem",height:"3.75rem"})])]),u("div",qe,[s(z,{required:"auto"},{default:B(()=>[s(P,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=n=>d.value=n),placeholder:f(t)("register.enterUsername"),rules:k},null,8,["modelValue","placeholder"]),s(P,{type:"password",modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=n=>l.value=n),class:"mt-4",placeholder:f(t)("register.enterPassword"),rules:C},null,8,["modelValue","placeholder"]),s(P,{type:"password",modelValue:h.value,"onUpdate:modelValue":o[2]||(o[2]=n=>h.value=n),class:"mt-4",placeholder:f(t)("register.confirmPassword"),rules:C},null,8,["modelValue","placeholder"]),s(P,{modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=n=>r.value=n),class:"mt-4",placeholder:f(t)("register.enterMobile"),rules:v},null,8,["modelValue","placeholder"]),s(P,{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=n=>m.value=n),class:"mt-4",placeholder:f(t)("register.authCode"),rules:y},null,8,["modelValue","placeholder"]),u("div",Be,[s(T,{modelValue:_.value,"onUpdate:modelValue":o[5]||(o[5]=n=>_.value=n),shape:"square","icon-size":"15px"},null,8,["modelValue"]),u("div",Ue,[le(V(f(t)("register.readAndAgree")),1),u("span",{class:"text-primary",onClick:o[6]||(o[6]=n=>i.value=!0)},V(f(t)("register.termsOfService")),1)])]),u("div",$e,[s(j,{"native-type":"submit",block:"",round:"",type:"primary",onClick:o[7]||(o[7]=n=>x())},{default:B(()=>[u("span",Ge,V(f(t)("register.register")),1)]),_:1})])]),_:1}),u("div",{class:"flex justify-center items-center mt-12 text-primary text-[15px] pb-4",onClick:o[8]||(o[8]=n=>w.$router.push("login"))},V(f(t)("register.haveAccount"))+" "+V(f(t)("register.login")),1)])]),s(A,{show:i.value,"onUpdate:show":o[9]||(o[9]=n=>i.value=n),round:"",position:"bottom",style:{height:"90%"}},{default:B(()=>[u("h1",Re,V(f(t)("register.termsOfService")),1),u("div",De,[u("div",{innerHTML:a.value[8].length>0?a.value[8]:""},null,8,Fe)])]),_:1},8,["show"])],64)}}}),Le=ce(Ie,[["__scopeId","data-v-5fa06f2f"]]);export{Le as default};
