import{_ as S,B as $,q as k,b as I}from"./CpNavBar-YKSWdiMH.js";import{P as N,L as T}from"./index-B93TrPKR.js";import{_ as U}from"./CpImage.vue_vue_type_script_setup_true_lang-fDg5k_VG.js";import{C as F}from"./CpPutin-WIUWCOTd.js";import{a as H}from"./common-C6QzqCjM.js";import{d as M,u as j,m as q,r,c as h,a as i,b as e,t as n,e as s,i as _,F as x,g as A,n as E,j as v,_ as J}from"./index-DZ_urxbV.js";import"./use-tab-status-DgQygf_o.js";import"./index-DqIDsfLc.js";import"./index-ts9YvAcl.js";import"./use-id-CwjrKIfK.js";import"./index-CUD9baFC.js";const G={class:"page"},K={class:"header-info"},O={class:"title"},Q={class:"description"},W={class:"plan-items"},X={class:"plan-card"},Y={class:"plan-header"},Z={class:"plan-logo"},ee={class:"plan-main-info"},ae={class:"plan-name"},te={class:"plan-company"},se={class:"plan-time"},oe={class:"plan-desc"},ne={class:"plan-footer"},le={class:"text-[12px] text-gray-500"},ie={class:"text-[12px]"},re=M({__name:"market",setup(de){const{t:a}=j(),y=H(),w=q(),C=E(),d=r({page:0,pageSize:10}),c=r(!1),m=r(!1),f=r([]),L=async()=>{m.value||(c.value=!0,d.value.page++,await k(d.value).then(o=>{f.value.push(...o.data.list),d.value.page>=o.data.total_page&&(m.value=!0),c.value=!1}).catch(()=>{c.value=!1}))},u=r(!1),B=async()=>{d.value.page=1,await k(d.value).then(o=>{f.value=o.data.list,u.value=!1}).catch(()=>{u.value=!1})},p=r(null),P=o=>{var l;if(((l=w.user)==null?void 0:l.set_pay_password)!=1){I(a("market.setPayPasswordHint")),C.push("paypassword?isJump=1");return}p.value&&(p.value.showBottom=!0,p.value.plan_id=o)};return(o,l)=>{const R=S,b=U,g=$,D=T,V=N;return v(),h(x,null,[i(R),e("div",G,[e("div",K,[e("div",O,n(s(a)("market.planLaunchPlaza")),1),e("div",Q,n(s(a)("market.choosePlanHint")),1)]),i(V,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),onRefresh:B,"pulling-text":s(a)("market.pullDownRefresh"),"loosing-text":s(a)("market.releaseRefresh"),"loading-text":s(a)("market.loading")},{default:_(()=>[i(D,{loading:c.value,"onUpdate:loading":l[0]||(l[0]=t=>c.value=t),finished:m.value,"finished-text":s(a)("market.noMore"),"loading-text":s(a)("market.loading"),"error-text":s(a)("market.fail"),onLoad:L},{default:_(()=>[e("div",W,[(v(!0),h(x,null,A(f.value,t=>(v(),h("div",X,[e("div",Y,[e("div",Z,[i(b,{name:t.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),e("div",ee,[e("div",ae,n(t.name),1),e("div",te,n(t.company),1),e("div",se,n(s(y).formatToMonthDay(t.create_time)),1)])]),e("div",oe,n(t.intro),1),e("div",ne,[i(g,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:z=>o.$router.push("planDetail?id="+t.id)},{default:_(()=>[e("span",le,n(s(a)("market.viewDetails")),1)]),_:2},1032,["onClick"]),i(g,{type:"primary",size:"small",round:"",class:"button",onClick:z=>P(t.id)},{default:_(()=>[e("span",ie,n(s(a)("market.startLaunch")),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished","finished-text","loading-text","error-text"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])]),i(F,{ref_key:"childRef",ref:p},null,512)],64)}}}),ye=J(re,[["__scopeId","data-v-10a4443e"]]);export{ye as default};
