import{n as T,t as S,j as M,r as G,c as W,C as J,D as Y,k as Z,f as A,v as q,E as Q,F as U,G as X,H as ee,u as D,J as te,d as oe,y as ae,K as ne,P as le,I as se,w as F,_ as re}from"./CpNavBar-Cv1K2dFx.js";import{P as ie}from"./index-BDN4T7z1.js";import{L as ce}from"./index-bX9xDg2f.js";import{E as ue}from"./index-BmYSla7C.js";import{C as de}from"./index-BHGaL5hR.js";import{u as pe}from"./use-id-BIGbAVnO.js";import{d as R,r as u,i as $,a as n,B as fe,y as ve,v as me,z as he,m as _e,c as we,b as z,w as N,F as ge,f as Ce,o as L,_ as xe}from"./index-WR3xs2eA.js";import"./use-tab-status-C4J5i1ER.js";const[H,V]=W("dropdown-menu"),ye={overlay:S,zIndex:T,duration:G(.2),direction:M("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:S,closeOnClickOverlay:S,swipeThreshold:T},K=Symbol(H);var Pe=R({name:H,props:ye,setup(t,{slots:d}){const p=pe(),f=u(),a=u(),r=u(0),{children:l,linkChildren:w}=J(K),v=Y(f),m=$(()=>l.some(e=>e.state.showWrapper)),g=$(()=>t.swipeThreshold&&l.length>+t.swipeThreshold),O=$(()=>{if(m.value&&Z(t.zIndex))return{zIndex:+t.zIndex+1}}),i=()=>{l.forEach(e=>{e.toggle(!1)})},C=()=>{t.closeOnClickOutside&&i()},h=()=>{if(a.value){const e=U(a);t.direction==="down"?r.value=e.bottom:r.value=X.value-e.top}},x=()=>{m.value&&h()},y=e=>{l.forEach((o,s)=>{s===e?o.toggle():o.state.showPopup&&o.toggle(!1,{immediate:!0})})},P=(e,o)=>{const{showPopup:s}=e.state,{disabled:c,titleClass:k}=e;return n("div",{id:`${p}-${o}`,role:"button",tabindex:c?void 0:0,"data-allow-mismatch":"attribute",class:[V("item",{disabled:c,grow:g.value}),{[ee]:!c}],onClick:()=>{c||y(o)}},[n("span",{class:[V("title",{down:s===(t.direction==="down"),active:s}),k],style:{color:s?t.activeColor:""}},[n("div",{class:"van-ellipsis"},[e.renderTitle()])])])};return A({close:i}),w({id:p,props:t,offset:r,updateOffset:h}),q(f,C),Q("scroll",x,{target:v,passive:!0}),()=>{var e;return n("div",{ref:f,class:V()},[n("div",{ref:a,style:O.value,class:V("bar",{opened:m.value,scrollable:g.value})},[l.map(P)]),(e=d.default)==null?void 0:e.call(d)])}}});const[ke,I]=W("dropdown-item"),be={title:String,options:te(),disabled:Boolean,teleport:[String,Object],lazyRender:S,modelValue:D,titleClass:D};var Oe=R({name:ke,inheritAttrs:!1,props:be,emits:["open","opened","close","closed","change","update:modelValue"],setup(t,{emit:d,slots:p,attrs:f}){const a=fe({showPopup:!1,transition:!0,showWrapper:!1}),r=u(),{parent:l,index:w}=oe(K);if(!l)return;const v=e=>()=>d(e),m=v("open"),g=v("close"),O=v("opened"),i=()=>{a.showWrapper=!1,d("closed")},C=e=>{t.teleport&&e.stopPropagation()},h=(e=!a.showPopup,o={})=>{e!==a.showPopup&&(a.showPopup=e,a.transition=!o.immediate,e&&(l.updateOffset(),a.showWrapper=!0))},x=()=>{if(p.title)return p.title();if(t.title)return t.title;const e=t.options.find(o=>o.value===t.modelValue);return e?e.text:""},y=e=>{const{activeColor:o}=l.props,{disabled:s}=e,c=e.value===t.modelValue,k=()=>{s||(a.showPopup=!1,e.value!==t.modelValue&&(d("update:modelValue",e.value),d("change",e.value)))},b=()=>{if(c)return n(se,{class:I("icon"),color:s?void 0:o,name:"success"},null)};return n(de,{role:"menuitem",key:String(e.value),icon:e.icon,title:e.text,class:I("option",{active:c,disabled:s}),style:{color:c?o:""},tabindex:c?0:-1,clickable:!s,onClick:k},{value:b})},P=()=>{const{offset:e}=l,{autoLocate:o,zIndex:s,overlay:c,duration:k,direction:b,closeOnClickOverlay:j}=l.props,B=ae(s);let E=e.value;if(o&&r.value){const _=ne(r.value);_&&(E-=U(_).top)}return b==="down"?B.top=`${E}px`:B.bottom=`${E}px`,me(n("div",_e({ref:r,style:B,class:I([b]),onClick:C},f),[n(le,{show:a.showPopup,"onUpdate:show":_=>a.showPopup=_,role:"menu",class:I("content"),overlay:c,position:b==="down"?"top":"bottom",duration:a.transition?k:0,lazyRender:t.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${l.id}-${w.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:j,onOpen:m,onClose:g,onOpened:O,onClosed:i},{default:()=>{var _;return[t.options.map(y),(_=p.default)==null?void 0:_.call(p)]}})]),[[he,a.showWrapper]])};return A({state:a,toggle:h,renderTitle:x}),()=>t.teleport?n(ve,{to:t.teleport},{default:()=>[P()]}):P()}});const Ve=F(Oe),Ie=F(Pe),Se={class:"page"},Be={class:"filter-section"},Ee={class:"message-list"},$e=R({__name:"notification",setup(t){const d=u({page:0,pageSize:10}),p=u(!1),f=u(!1);u([]);const a=async()=>{f.value||(p.value=!0,d.value.page++,d.value.page>=11&&(f.value=!0),p.value=!1)},r=u(!1),l=async()=>{r.value=!1},w=u(0),v=u(0),m=[{text:"全部消息",value:0},{text:"系统公告",value:1},{text:"系统维护",value:2},{text:"活动通知",value:3}],g=[{text:"全部状态",value:0},{text:"未读消息",value:1},{text:"已读消息",value:2}];return(O,i)=>{const C=re,h=Ve,x=Ie,y=ue,P=ce,e=ie;return L(),we(ge,null,[n(C),z("div",Se,[z("div",Be,[n(x,{"swipe-threshold":"2"},{default:N(()=>[n(h,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=o=>w.value=o),options:m},null,8,["modelValue"]),n(h,{modelValue:v.value,"onUpdate:modelValue":i[1]||(i[1]=o=>v.value=o),options:g},null,8,["modelValue"])]),_:1})]),z("div",Ee,[n(e,{modelValue:r.value,"onUpdate:modelValue":i[3]||(i[3]=o=>r.value=o),onRefresh:l,"pulling-text":"Pull down to refresh...","loosing-text":"Release to refresh...","loading-text":"loading..."},{default:N(()=>[(L(),Ce(y,{key:0,description:"暂无消息"}))]),_:1},8,["modelValue"])])])],64)}}}),Fe=xe($e,[["__scopeId","data-v-568ec427"]]);export{Fe as default};
