import{_ as R,B as V,v as D}from"./CpNavBar-BVCiNokF.js";import{P,L as $}from"./index-uDgtOVEj.js";import{_ as z}from"./CpImage.vue_vue_type_script_setup_true_lang-xf8WaHIg.js";import{C as N}from"./CpPutin-Cq9WHTPq.js";import{a as F}from"./common-OH7xm5tF.js";import{d as I,r as n,c as _,a as s,b as a,h as r,F as h,f as S,t as d,u as T,i as m,_ as U}from"./index-CmAqP3Ju.js";import"./use-tab-status-1vFvlbEp.js";import"./index-C_qfJI17.js";import"./index-Ddkf-UKB.js";import"./use-id-Br5nqM4_.js";import"./index-DL7F5B2y.js";const A={class:"page"},E={class:"plan-items"},M={class:"plan-card"},j={class:"plan-header"},q={class:"plan-logo"},G={class:"plan-main-info"},H={class:"plan-name"},J={class:"plan-company"},K={class:"plan-time"},O={class:"plan-desc"},Q={class:"plan-footer"},W=I({__name:"market",setup(X){const g=F(),p=n({page:0,pageSize:10}),l=n(!1),u=n(!1),f=n([]),x=async()=>{u.value||(l.value=!0,p.value.page++,await D(p.value).then(o=>{f.value.push(...o.data.list),p.value.page>=o.data.total_page&&(u.value=!0),l.value=!1}).catch(()=>{l.value=!1}))},c=n(!1),y=async()=>{c.value=!1},i=n(null),C=o=>{i.value&&(i.value.showBottom=!0,i.value.plan_id=o)};return(o,t)=>{const k=R,B=z,v=V,b=$,L=P;return m(),_(h,null,[s(k),a("div",A,[t[4]||(t[4]=a("div",{class:"header-info"},[a("div",{class:"title"},"计划投放广场"),a("div",{class:"description"},"选择合适的投放计划，获取丰厚投放利润")],-1)),s(L,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),onRefresh:y,"pulling-text":"Pull down to refresh...","loosing-text":"Release to refresh...","loading-text":"loading..."},{default:r(()=>[s(b,{loading:l.value,"onUpdate:loading":t[0]||(t[0]=e=>l.value=e),finished:u.value,"finished-text":"no more","loading-text":"loading...","error-text":"fail",onLoad:x},{default:r(()=>[a("div",E,[(m(!0),_(h,null,S(f.value,e=>(m(),_("div",M,[a("div",j,[a("div",q,[s(B,{name:e.image,width:"3.625rem",height:"3.625rem",radius:"15%"},null,8,["name"])]),a("div",G,[a("div",H,d(e.name),1),a("div",J,d(e.company),1),a("div",K,d(T(g).formatToMonthDay(e.create_time)),1)])]),a("div",O,d(e.intro),1),a("div",Q,[s(v,{type:"primary",size:"small",round:"",class:"button button-detail",onClick:w=>o.$router.push("planDetail?id="+e.id)},{default:r(()=>t[2]||(t[2]=[a("span",{class:"text-[12px] text-gray-500"},"查看详情",-1)])),_:2},1032,["onClick"]),s(v,{type:"primary",size:"small",round:"",class:"button",onClick:w=>C(e.id)},{default:r(()=>t[3]||(t[3]=[a("span",{class:"text-[12px]"},"开始投放",-1)])),_:2},1032,["onClick"])])]))),256))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])]),s(N,{ref_key:"childRef",ref:i},null,512)],64)}}}),da=U(W,[["__scopeId","data-v-9ce6b19a"]]);export{da as default};
