import Q from"./RankingList-OhBUbOm7.js";import{S as E}from"./SearchOutlined-B5xKrHun.js";import{d as P,r as d,o as v,x as w,w as a,j as t,a as r,y as b,c as W,a6 as X,i as h,X as G,z as H,h as J,s as m,v as p,D as K,B as Y,W as Z,k as ee,l as te,C as ae,N as le,_ as ne,q as se,$ as ue,n as re}from"./index-BUaCiTCS.js";import{_ as oe}from"./ButtonGroup-BoW0-6aG.js";const _e={class:"summary-item"},ie={class:"summary-value"},de={class:"summary-item"},me={class:"summary-value"},pe={class:"ranking-box"},ce=P({__name:"UserRechargeStats",setup(fe){const c=d("本年"),f=d(null),C=[{label:"今日",value:"今日"},{label:"本周",value:"本周"},{label:"本月",value:"本月"},{label:"本年",value:"本年"},{label:"自定义",value:"自定义"}],x={1:{label:"真实充值",type:"info"},2:{label:"虚拟充值",type:"warning"},3:{label:"系统赠送",type:"success"}},I={0:{label:"失败",type:"error"},1:{label:"成功",type:"success"}},T={0:{label:"未退款",type:"default"},1:{label:"退回成功",type:"success"},2:{label:"退回失败",type:"error"}},z=[{label:"系统充值",value:1},{label:"支付宝",value:2},{label:"微信",value:3}],S=[{label:"真实充值",value:1},{label:"虚拟充值",value:2},{label:"系统赠送",value:3}],D=[{label:"成功",value:1},{label:"失败",value:0}],U=[{label:"未退款",value:0},{label:"退回成功",value:1},{label:"退回失败",value:2}],s=d({user_id:"",nickname:"",payment_method:null,recharge_type:null,status:null,refund_status:null}),o=d({total_recharge_count:27,total_recharge_amount:15870,top_users:[{userId:17,fbId:"1966168463025598144",orderCount:1,totalAmount:5e3},{userId:30,fbId:"1966508563018813440",orderCount:1,totalAmount:100},{userId:35,fbId:"1967337265029565632",orderCount:1,totalAmount:100}],detail_list:[{id:27,user_id:17,nickname:"用户17",fb_id:"1966030070313871736",recharge_amount:100,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-17T03:50:12+08:00",refund_status:0},{id:26,user_id:35,nickname:"用户35",fb_id:"1967337265029565632",recharge_amount:1e3,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T09:26:16+08:00",refund_status:0},{id:25,user_id:19,nickname:"用户19",fb_id:"1966916916452502144",recharge_amount:100,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:51:22+08:00",refund_status:0},{id:24,user_id:19,nickname:"用户19",fb_id:"1966916916452502144",recharge_amount:100,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:50:52+08:00",refund_status:0},{id:23,user_id:34,nickname:"用户34",fb_id:"1967283558301044736",recharge_amount:30,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:50:15+08:00",refund_status:0},{id:22,user_id:33,nickname:"用户33",fb_id:"1967262977100533760",recharge_amount:200,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:50:25+08:00",refund_status:0},{id:21,user_id:32,nickname:"用户32",fb_id:"1967218093045085208",recharge_amount:200,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:49:24+08:00",refund_status:0},{id:20,user_id:24,nickname:"用户24",fb_id:"1966170416800075776",recharge_amount:1e3,payment_method:"系统充值",status:1,recharge_type:1,temp_status:"真实充值",user_remark:"",admin_remark:"",create_time:"2025-09-15T01:48:41+08:00",refund_status:0}]}),N=[{title:"ID",key:"id",width:60,fixed:"left"},{title:"用户ID",key:"user_id",width:80},{title:"用户昵称",key:"nickname",width:100},{title:"FB ID",key:"fb_id",width:160},{title:"充值金额",key:"recharge_amount",width:100,render(l){return`¥${l.recharge_amount}`}},{title:"充值方式",key:"payment_method",width:100,render(l){return m(p,{type:"info",bordered:!1,size:"small"},{default:()=>l.payment_method})}},{title:"状态",key:"status",width:80,render(l){const e=I[l.status];return m(p,{type:e.type,bordered:!1,size:"small"},{default:()=>e.label})}},{title:"充值类型",key:"recharge_type",width:100,render(l){const e=x[l.recharge_type]||{};return m(p,{type:e.type,bordered:!1,size:"small"},{default:()=>e.label})}},{title:"虚拟充值退款状态",key:"refund_status",width:140,render(l){const e=T[l.refund_status]||{};return m(p,{type:e.type,bordered:!1,size:"small"},{default:()=>e.label})}},{title:"用户备注",key:"user_remark",width:120,ellipsis:{tooltip:!0}},{title:"后台备注",key:"admin_remark",width:120,ellipsis:{tooltip:!0}},{title:"创建时间",key:"create_time",width:160}],B={page:1,pageSize:10,pageCount:1,itemCount:o.value.detail_list.length,showSizePicker:!0,pageSizes:[10,20,50]};function $(l){return new Intl.NumberFormat("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}function O(l){c.value=l,l!=="自定义"&&(f.value=null,console.log("选择时间:",l))}function R(l){console.log("自定义时间范围:",l)}function F(){console.log("查询条件:",s.value)}function M(){s.value={user_id:"",nickname:"",payment_method:null,recharge_type:null,status:null,refund_status:null},console.log("重置筛选")}return(l,e)=>{const _=K,y=Y,V=oe,A=Z,g=ee,u=te,i=ae,j=le,q=ne,k=se,L=ue;return v(),w(_,{vertical:"",size:"large"},{default:a(()=>[t(_,{justify:"space-between",align:"start"},{default:a(()=>[t(_,{size:"large"},{default:a(()=>[r("div",_e,[e[7]||(e[7]=r("div",{class:"summary-label"},"总充值次数",-1)),r("div",ie,b(o.value.total_recharge_count)+"次",1)]),r("div",de,[e[8]||(e[8]=r("div",{class:"summary-label"},"总充值金额",-1)),r("div",me,"¥"+b($(o.value.total_recharge_amount)),1)])]),_:1}),r("div",pe,[t(Q,{title:"充值排行榜",items:o.value.top_users},null,8,["items"])])]),_:1}),t(_,null,{default:a(()=>[t(V,null,{default:a(()=>[(v(),W(G,null,X(C,n=>t(y,{key:n.value,type:c.value===n.value?"primary":"default",onClick:ye=>O(n.value)},{default:a(()=>[h(b(n.label),1)]),_:2},1032,["type","onClick"])),64))]),_:1}),c.value==="自定义"?(v(),w(A,{key:0,value:f.value,"onUpdate:value":[e[0]||(e[0]=n=>f.value=n),R],type:"daterange",clearable:""},null,8,["value"])):H("",!0)]),_:1}),t(k,{bordered:!1},{default:a(()=>[t(q,{inline:"","label-placement":"left"},{default:a(()=>[t(u,{label:"用户ID"},{default:a(()=>[t(g,{value:s.value.user_id,"onUpdate:value":e[1]||(e[1]=n=>s.value.user_id=n),placeholder:"请输入",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,{label:"用户昵称"},{default:a(()=>[t(g,{value:s.value.nickname,"onUpdate:value":e[2]||(e[2]=n=>s.value.nickname=n),placeholder:"请输入",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,{label:"充值方式"},{default:a(()=>[t(i,{value:s.value.payment_method,"onUpdate:value":e[3]||(e[3]=n=>s.value.payment_method=n),options:z,placeholder:"请选择",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,{label:"充值类型"},{default:a(()=>[t(i,{value:s.value.recharge_type,"onUpdate:value":e[4]||(e[4]=n=>s.value.recharge_type=n),options:S,placeholder:"请选择",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,{label:"状态"},{default:a(()=>[t(i,{value:s.value.status,"onUpdate:value":e[5]||(e[5]=n=>s.value.status=n),options:D,placeholder:"请选择",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,{label:"虚拟充值退款状态"},{default:a(()=>[t(i,{value:s.value.refund_status,"onUpdate:value":e[6]||(e[6]=n=>s.value.refund_status=n),options:U,placeholder:"请选择",style:{width:"150px"},clearable:""},null,8,["value"])]),_:1}),t(u,null,{default:a(()=>[t(_,null,{default:a(()=>[t(y,{type:"primary",onClick:F},{icon:a(()=>[t(j,null,{default:a(()=>[t(J(E))]),_:1})]),default:a(()=>[e[9]||(e[9]=h(" 查询 "))]),_:1}),t(y,{onClick:M},{default:a(()=>e[10]||(e[10]=[h("重置")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{bordered:!1},{default:a(()=>[t(L,{columns:N,data:o.value.detail_list,pagination:B,bordered:!1,"scroll-x":2e3},null,8,["data"])]),_:1})]),_:1})}}}),ke=re(ce,[["__scopeId","data-v-6570520a"]]);export{ke as default};
