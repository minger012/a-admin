var A=Object.defineProperty;var B=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var w=(s,a,o)=>a in s?A(s,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[a]=o,S=(s,a)=>{for(var o in a||(a={}))E.call(a,o)&&w(s,o,a[o]);if(B)for(var o of B(a))M.call(a,o)&&w(s,o,a[o]);return s};var k=(s,a,o)=>new Promise((p,y)=>{var C=d=>{try{v(o.next(d))}catch(_){y(_)}},e=d=>{try{v(o.throw(d))}catch(_){y(_)}},v=d=>d.done?p(d.value):Promise.resolve(d.value).then(C,e);v((o=o.apply(s,a)).next())});import{A as z,d as I,u as P,r as V,b as T,c as q,j as n,w as l,af as F,o as r,x as f,z as m,i as K,k as O,l as Q,K as G,V as H,_ as J,q as W,D as X,B as Y,n as Z}from"./index-BEDOAs2M.js";import R from"./ServiceLinkConfig-CPxkosQm.js";import h from"./ShopLevelConfig-jsCEN_R0.js";import ee from"./ShopLevelI18nConfig-Lyajkt1E.js";import te from"./FAQConfig-C_Tn0Fwa.js";import ne from"./TermsConfig-u590P46_.js";import oe from"./BannerConfig-BNN9_L-u.js";import"./PlusOutlined-DnK2ELqe.js";import"./file-1h3Cvp1P.js";import"./vue-quill.snow-CCkGEmWA.js";const le=s=>z.Post("/admin/config/list",s,{localCache:null,meta:{isReturnNativeResponse:!0}}),ae=s=>z.Post("/admin/config/edit",s,{meta:{isReturnNativeResponse:!0}}),ue={class:"config-container"},se=I({__name:"index",setup(s){const a=P(),o=V(!1),p=V(!1),y=V(),C=T({}),e=V({}),v=V([]),d=()=>{[{id:1,title:"货币符号",content:"$"},{id:2,title:"货币代码",content:"USD"},{id:3,title:"客服链接",content:[]},{id:4,title:"充值客服链接",content:[]},{id:5,title:"店铺星级配置",content:[]},{id:6,title:"店铺星级多语言映射配置",content:{}},{id:7,title:"常见问题配置",content:{}},{id:8,title:"服务条款",content:{}},{id:9,title:"广告中心Banner配置",content:{}}].forEach(t=>{e.value[t.id]=S({},t)})};function _(){return k(this,null,function*(){try{o.value=!0;const i=yield le({page:"1",pageSize:"50"});i.code===1&&i.data.list&&(v.value=i.data.list,i.data.list.forEach(t=>{e.value[t.id]&&(e.value[t.id].content=t.value||t.content)}))}catch(i){console.error("加载配置失败:",i),a.error("加载配置失败")}finally{o.value=!1}})}function L(){return k(this,null,function*(){try{p.value=!0;const i=Object.values(e.value).map(g=>({id:g.id,content:g.content})),t=yield ae({config:i});t.code===1?(a.success("保存成功"),_()):a.error(t.msg||"保存失败")}catch(i){console.error("保存配置失败:",i),a.error("保存失败")}finally{p.value=!1}})}return d(),_(),(i,t)=>{const g=O,x=Q,U=G,N=H,D=J,c=W,b=X,$=Y,j=F;return r(),q("div",ue,[n(j,{show:o.value},{default:l(()=>[n(b,{vertical:"",size:16},{default:l(()=>[n(c,{title:"基础配置",bordered:!1},{default:l(()=>[n(D,{ref_key:"formRef",ref:y,model:C,"label-placement":"left","label-width":120},{default:l(()=>[n(N,{cols:2,"x-gap":24},{default:l(()=>[n(U,null,{default:l(()=>[n(x,{label:"货币符号"},{default:l(()=>[n(g,{value:e.value[1].content,"onUpdate:value":t[0]||(t[0]=u=>e.value[1].content=u),placeholder:"请输入货币符号（如：$）"},null,8,["value"])]),_:1})]),_:1}),n(U,null,{default:l(()=>[n(x,{label:"货币代码"},{default:l(()=>[n(g,{value:e.value[2].content,"onUpdate:value":t[1]||(t[1]=u=>e.value[2].content=u),placeholder:"请输入货币代码（如：USD）"},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),n(c,{title:"客服链接",bordered:!1},{default:l(()=>[n(b,{vertical:"",size:"large"},{default:l(()=>[e.value[3]?(r(),f(R,{key:0,modelValue:e.value[3].content,"onUpdate:modelValue":t[2]||(t[2]=u=>e.value[3].content=u),title:"链接标签","add-button-text":"添加客服链接"},null,8,["modelValue"])):m("",!0),e.value[4]?(r(),f(R,{key:1,modelValue:e.value[4].content,"onUpdate:modelValue":t[3]||(t[3]=u=>e.value[4].content=u),title:"充值客服链接","add-button-text":"添加充值客服链接"},null,8,["modelValue"])):m("",!0)]),_:1})]),_:1}),e.value[5]?(r(),f(c,{key:0,title:"店铺星级配置",bordered:!1},{default:l(()=>[n(h,{modelValue:e.value[5].content,"onUpdate:modelValue":t[4]||(t[4]=u=>e.value[5].content=u)},null,8,["modelValue"])]),_:1})):m("",!0),e.value[6]?(r(),f(c,{key:1,title:"店铺星级多语言映射配置",bordered:!1},{default:l(()=>[n(ee,{modelValue:e.value[6].content,"onUpdate:modelValue":t[5]||(t[5]=u=>e.value[6].content=u)},null,8,["modelValue"])]),_:1})):m("",!0),e.value[7]?(r(),f(c,{key:2,title:"常见问题配置",bordered:!1},{default:l(()=>[n(te,{modelValue:e.value[7].content,"onUpdate:modelValue":t[6]||(t[6]=u=>e.value[7].content=u)},null,8,["modelValue"])]),_:1})):m("",!0),e.value[8]?(r(),f(c,{key:3,title:"服务条款",bordered:!1},{default:l(()=>[n(ne,{modelValue:e.value[8].content,"onUpdate:modelValue":t[7]||(t[7]=u=>e.value[8].content=u)},null,8,["modelValue"])]),_:1})):m("",!0),e.value[9]?(r(),f(c,{key:4,title:"广告中心Banner配置",bordered:!1},{default:l(()=>[n(oe,{modelValue:e.value[9].content,"onUpdate:modelValue":t[8]||(t[8]=u=>e.value[9].content=u)},null,8,["modelValue"])]),_:1})):m("",!0),n(b,{justify:"center",class:"mt-8"},{default:l(()=>[n($,{type:"primary",size:"large",onClick:L,loading:p.value},{default:l(()=>t[9]||(t[9]=[K(" 保存配置 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["show"])])}}}),ye=Z(se,[["__scopeId","data-v-a6fa415d"]]);export{ye as default};
