var L=Object.defineProperty,B=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var k=(l,n,t)=>n in l?L(l,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[n]=t,m=(l,n)=>{for(var t in n||(n={}))N.call(n,t)&&k(l,t,n[t]);if(g)for(var t of g(n))z.call(n,t)&&k(l,t,n[t]);return l},p=(l,n)=>B(l,I(n));import{P as $}from"./PlusOutlined-BWpPOq4g.js";import{d as O,r as P,o as y,c as w,j as u,w as _,a1 as R,aH as S,a as A,h,N as E,i as F,B as x,s,k as v,U as H,Y as T,Z as Y,$ as Z,n as q}from"./index-FB6W5mBG.js";const G={class:"mb-3 flex justify-end"},J=O({__name:"ShopLevelI18nConfig",props:{modelValue:{}},emits:["update:modelValue"],setup(l,{emit:n}){const t=l,d=n,U=[{label:"日本語",value:"ja-ja"},{label:"english",value:"en-us"},{label:"中文",value:"zh-cn"},{label:"繁體",value:"zh-tw"},{label:"한국어",value:"ko-ko"},{label:"Việt nam",value:"vi-vi"}],o=P("ja-ja"),j=[{title:"星级",key:"level",width:100,render:e=>s(v,{value:e.level,onUpdateValue:a=>{e.level=a,r()},placeholder:"星级1"})},{title:"名称",key:"name",width:150,render:e=>s(v,{value:e.name,onUpdateValue:a=>{e.name=a,r()},placeholder:"请输入名称"})},{title:"描述",key:"desc",width:200,render:e=>s(v,{value:e.desc,onUpdateValue:a=>{e.desc=a,r()},placeholder:"请输入描述"})},{title:"图标",key:"icon",width:150,render:e=>s(v,{value:e.icon,onUpdateValue:a=>{e.icon=a,r()},placeholder:"图标URL"})},{title:"排序",key:"sort",width:100,render:e=>s(H,{value:e.sort,onUpdateValue:a=>{e.sort=a!=null?a:0,r()},min:0,style:{width:"100%"}})},{title:"操作",key:"action",width:100,fixed:"right",render:(e,a)=>s(x,{text:!0,type:"error",onClick:()=>D(a)},{default:()=>"删除"})}];function f(){if(!t.modelValue||typeof t.modelValue!="object")return d("update:modelValue",{}),[];if(!t.modelValue[o.value]){const e=p(m({},t.modelValue),{[o.value]:[]});return d("update:modelValue",e),[]}return t.modelValue[o.value]||[]}function r(){d("update:modelValue",m({},t.modelValue))}function C(){const e=f(),a={level:`星级${e.length+1}`,name:"",desc:"",icon:"",sort:e.length+1},i=p(m({},t.modelValue),{[o.value]:[...e,a]});d("update:modelValue",i)}function D(e){const a=f(),i=p(m({},t.modelValue),{[o.value]:a.filter((b,V)=>V!==e)});d("update:modelValue",i)}return(e,a)=>{const i=T,b=Y,V=Z;return y(),w("div",null,[u(b,{value:o.value,"onUpdate:value":a[0]||(a[0]=c=>o.value=c),type:"segment",class:"mb-4"},{default:_(()=>[(y(),w(R,null,S(U,c=>u(i,{key:c.value,name:c.value,tab:c.label},null,8,["name","tab"])),64))]),_:1},8,["value"]),A("div",G,[u(h(x),{size:"small",onClick:C},{icon:_(()=>[u(h(E),null,{default:_(()=>[u(h($))]),_:1})]),default:_(()=>[a[1]||(a[1]=F(" 添加阶梯 "))]),_:1})]),u(V,{columns:j,data:f(),pagination:!1,bordered:!1},null,8,["data"])])}}}),W=q(J,[["__scopeId","data-v-ebafa963"]]);export{W as default};
