var O=Object.defineProperty;var N=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var R=(t,r,n)=>r in t?O(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,y=(t,r)=>{for(var n in r||(r={}))Z.call(r,n)&&R(t,n,r[n]);if(N)for(var n of N(r))H.call(r,n)&&R(t,n,r[n]);return t};var T=(t,r,n)=>new Promise((g,d)=>{var f=s=>{try{p(n.next(s))}catch(m){d(m)}},i=s=>{try{p(n.throw(s))}catch(m){d(m)}},p=s=>s.done?g(s.value):Promise.resolve(s.value).then(f,i);p((n=n.apply(t,r)).next())});import{B as J}from"./Table-BcXbUTxg.js";import{T as Q}from"./TableAction-CTGB6Be_.js";import{_ as X}from"./BasicForm-BufV-4It.js";import{u as Y}from"./useForm-C7YbISyA.js";import{g as ee}from"./list-CTAqyRv6.js";import{s as b,aZ as oe,v as U,d as te,f as le,r as _,b as S,o as ne,c as ae,j as l,w as a,h as c,i as h,a1 as se,k as re,q as ue,N as ie,B as pe,l as de,W as me,_ as ce,D as fe,E as _e}from"./index-FB6W5mBG.js";import{P as be}from"./PlusOutlined-BWpPOq4g.js";import"./vuedraggable.umd-C_5yRcwU.js";import"./useDesignSetting-BvT0Exi7.js";import"./propTypes-j0pcPl7w.js";import"./componentSetting-CQq0JJwW.js";import"./index-BgGIYSO9.js";import"./DownOutlined-BL5GVzwF.js";const ge={male:"男",female:"女",unknown:"未知"},ve={close:"已取消",refuse:"已拒绝",pass:"已通过"},ke=[{title:"id",key:"id"},{title:"名称",key:"name"},{title:"头像",key:"avatar",render(t){return b(oe,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return b(U,{type:t.sex==="male"?"info":"error"},{default:()=>ge[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city"},{title:"状态",key:"status",render(t){return b(U,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>ve[t.status]})}},{title:"创建时间",key:"createDate"}],$e=te({__name:"index",setup(t){const r={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},n=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],g=le(),d=_(null),f=_(),i=_(!1),p=_(!1),s=S({name:"",address:"",date:null}),m=S({width:220,title:"操作",key:"action",fixed:"right",render(e){return b(Q,{style:"button",actions:[{label:"删除",onClick:M.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:F.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:o=>{window.$message.info(`您点击了，${o} 按钮`)}})}}),[B,{getFieldsValue:D}]=Y({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:n});function V(){i.value=!0}const $=e=>T(this,null,function*(){return yield ee(y(y({},D()),e))});function q(e){console.log(e)}function x(){f.value.reload()}function I(e){e.preventDefault(),p.value=!0,d.value.validate(o=>{o?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{i.value=!1,x()})),p.value=!1})}function F(e){console.log("点击了编辑",e),g.push({name:"basic-info",params:{id:e.id}})}function M(e){console.log("点击了删除",e),window.$message.info("点击了删除")}function A(e){console.log(e),x()}function E(e){console.log(e)}return(e,o)=>{const v=re,P=ue,j=ie,k=pe,w=de,L=me,W=ce,z=fe,G=_e;return ne(),ae(se,null,[l(P,{bordered:!1},{default:a(()=>[l(c(X),{onRegister:c(B),onSubmit:A,onReset:E},{statusSlot:a(({model:u,field:C})=>[l(v,{value:u[C],"onUpdate:value":K=>u[C]=K},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"])]),_:1}),l(P,{bordered:!1,class:"mt-3"},{default:a(()=>[l(c(J),{columns:c(ke),request:$,"row-key":u=>u.id,ref_key:"actionRef",ref:f,actionColumn:m,"onUpdate:checkedRowKeys":q,"scroll-x":1090,striped:!0},{tableTitle:a(()=>[l(k,{type:"primary",onClick:V},{icon:a(()=>[l(j,null,{default:a(()=>[l(c(be))]),_:1})]),default:a(()=>[o[5]||(o[5]=h(" 新建 "))]),_:1})]),toolbar:a(()=>o[6]||(o[6]=[])),_:1},8,["columns","row-key","actionColumn"]),l(G,{show:i.value,"onUpdate:show":o[4]||(o[4]=u=>i.value=u),"show-icon":!1,preset:"dialog",title:"新建"},{action:a(()=>[l(z,null,{default:a(()=>[l(k,{onClick:o[3]||(o[3]=()=>i.value=!1)},{default:a(()=>o[7]||(o[7]=[h("取消")])),_:1}),l(k,{type:"info",loading:p.value,onClick:I},{default:a(()=>o[8]||(o[8]=[h("确定")])),_:1},8,["loading"])]),_:1})]),default:a(()=>[l(W,{model:s,rules:r,ref_key:"formRef",ref:d,"label-placement":"left","label-width":80,class:"py-4"},{default:a(()=>[l(w,{label:"名称",path:"name"},{default:a(()=>[l(v,{placeholder:"请输入名称",value:s.name,"onUpdate:value":o[0]||(o[0]=u=>s.name=u)},null,8,["value"])]),_:1}),l(w,{label:"地址",path:"address"},{default:a(()=>[l(v,{type:"textarea",placeholder:"请输入地址",value:s.address,"onUpdate:value":o[1]||(o[1]=u=>s.address=u)},null,8,["value"])]),_:1}),l(w,{label:"日期",path:"date"},{default:a(()=>[l(L,{type:"datetime",placeholder:"请选择日期",value:s.date,"onUpdate:value":o[2]||(o[2]=u=>s.date=u)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});export{$e as default};
