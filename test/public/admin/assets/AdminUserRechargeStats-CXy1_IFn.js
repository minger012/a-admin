import{_ as V}from"./FilterBar.vue_vue_type_script_setup_true_lang-DOzR2a6H.js";import{_ as B}from"./ViewSwitch.vue_vue_type_script_setup_true_lang-8Mnj427D.js";import{d as F,r as f,o as m,x as N,w as n,j as a,a as r,y as g,c as v,s as u,v as i,B as P,D as M,$ as U,K as j,V as A,q as R,n as T}from"./index-BUaCiTCS.js";import"./ButtonGroup-BoW0-6aG.js";const q={class:"summary-item"},E={class:"summary-value"},K={class:"summary-item"},G={class:"summary-value"},H={class:"summary-item"},J={class:"summary-value"},L={key:0},O={key:1},Q=F({__name:"AdminUserRechargeStats",setup(W){const l=f("summary"),p={1:{label:"真实充值",type:"info"},2:{label:"虚拟充值",type:"warning"},3:{label:"系统赠送",type:"success"}},h={0:{label:"失败",type:"error"},1:{label:"成功",type:"success"}},s=f({total_recharge_count:25,total_recharge_amount:11870,day_average_amount:1978.33,type_stats:[{type_name:"真实充值",type:1,recharge_count:24,recharge_amount:11770,percentage:99.16},{type_name:"虚拟充值",type:2,recharge_count:1,recharge_amount:100,percentage:.84}],status_stats:[{status_name:"成功",status:1,recharge_count:25,recharge_amount:11870,percentage:100}],day_stats:[{date:"2025-09-10",recharge_count:1,recharge_amount:1e3},{date:"2025-09-11",recharge_count:2,recharge_amount:6e3},{date:"2025-09-12",recharge_count:8,recharge_amount:1420},{date:"2025-09-13",recharge_count:2,recharge_amount:130},{date:"2025-09-14",recharge_count:11,recharge_amount:3220},{date:"2025-09-16",recharge_count:1,recharge_amount:100}],day_details:[{id:1,date:"2025-09-10",type:1,status:1,recharge_count:1,recharge_amount:1e3},{id:2,date:"2025-09-11",type:1,status:1,recharge_count:2,recharge_amount:6e3},{id:3,date:"2025-09-12",type:1,status:1,recharge_count:6,recharge_amount:320},{id:4,date:"2025-09-12",type:2,status:1,recharge_count:1,recharge_amount:100},{id:5,date:"2025-09-12",type:1,status:1,recharge_count:1,recharge_amount:1e3},{id:6,date:"2025-09-13",type:1,status:1,recharge_count:2,recharge_amount:130},{id:7,date:"2025-09-14",type:1,status:1,recharge_count:4,recharge_amount:760},{id:8,date:"2025-09-14",type:1,status:1,recharge_count:2,recharge_amount:60},{id:9,date:"2025-09-14",type:1,status:1,recharge_count:3,recharge_amount:1200},{id:10,date:"2025-09-14",type:1,status:1,recharge_count:1,recharge_amount:200}]}),b=[{title:"充值类型",key:"type",width:120,render(e){const t=p[e.type];return u(i,{type:t.type,bordered:!1},{default:()=>t.label})}},{title:"充值笔数",key:"recharge_count",width:120},{title:"充值金额",key:"recharge_amount",width:150,render(e){return`¥${o(e.recharge_amount)}`}},{title:"占比",key:"percentage",width:100,render(e){return`${e.percentage.toFixed(2)}%`}}],k=[{title:"充值状态",key:"status",width:120,render(e){const t=h[e.status];return u(i,{type:t.type,bordered:!1},{default:()=>t.label})}},{title:"充值笔数",key:"recharge_count",width:120},{title:"充值金额",key:"recharge_amount",width:150,render(e){return`¥${o(e.recharge_amount)}`}},{title:"占比",key:"percentage",width:100,render(e){return`${e.percentage.toFixed(2)}%`}}],w=[{title:"日期",key:"date",width:150},{title:"充值笔数",key:"recharge_count",width:120},{title:"充值金额",key:"recharge_amount",width:150,render(e){return`¥${o(e.recharge_amount)}`}},{title:"操作",key:"action",width:150,render(e){return u(P,{text:!0,type:"primary",size:"small",onClick:()=>z(e)},{default:()=>"查看明细"})}}],C=[{title:"ID",key:"id",width:80},{title:"日期",key:"date",width:120},{title:"充值类型",key:"type",width:120,render(e){const t=p[e.type];return u(i,{type:t.type,bordered:!1},{default:()=>t.label})}},{title:"充值状态",key:"status",width:100,render(e){const t=h[e.status];return u(i,{type:t.type,bordered:!1},{default:()=>t.label})}},{title:"充值笔数",key:"recharge_count",width:100},{title:"充值金额",key:"recharge_amount",width:150,render(e){return`¥${o(e.recharge_amount)}`}}],S={page:1,pageSize:10,pageCount:1,itemCount:s.value.day_stats.length,showSizePicker:!1},x={page:1,pageSize:10,pageCount:1,itemCount:s.value.day_details.length,showSizePicker:!0,pageSizes:[10,20,50]};function o(e){return new Intl.NumberFormat("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function $(e){console.log("筛选条件:",e)}function z(e){console.log("查看明细:",e),l.value="detail"}return(e,t)=>{const c=M,d=U,y=j,D=A,_=R;return m(),N(c,{vertical:"",size:"large"},{default:n(()=>[a(c,{justify:"space-between",align:"start"},{default:n(()=>[a(c,{size:"large"},{default:n(()=>[r("div",q,[t[1]||(t[1]=r("div",{class:"summary-label"},"总充值笔数",-1)),r("div",E,g(s.value.total_recharge_count),1)]),r("div",K,[t[2]||(t[2]=r("div",{class:"summary-label"},"总充值金额",-1)),r("div",G,"¥"+g(o(s.value.total_recharge_amount)),1)]),r("div",H,[t[3]||(t[3]=r("div",{class:"summary-label"},"日均充值金额",-1)),r("div",J,"¥"+g(o(s.value.day_average_amount)),1)])]),_:1}),a(V,{onChange:$})]),_:1}),a(c,null,{default:n(()=>[a(B,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=I=>l.value=I)},null,8,["modelValue"])]),_:1}),l.value==="summary"?(m(),v("div",L,[a(_,{bordered:!1,title:"充值类型统计",class:"mb-4"},{default:n(()=>[a(D,{cols:"2","x-gap":16},{default:n(()=>[a(y,null,{default:n(()=>[a(d,{columns:b,data:s.value.type_stats,pagination:!1,bordered:!1},null,8,["data"])]),_:1}),a(y,null,{default:n(()=>[r("div",null,[t[4]||(t[4]=r("div",{class:"stats-title"},"充值状态统计",-1)),a(d,{columns:k,data:s.value.status_stats,pagination:!1,bordered:!1},null,8,["data"])])]),_:1})]),_:1})]),_:1}),a(_,{bordered:!1,title:"按日统计"},{default:n(()=>[a(d,{columns:w,data:s.value.day_stats,pagination:S,bordered:!1},null,8,["data"])]),_:1})])):(m(),v("div",O,[a(_,{bordered:!1,title:"明细统计"},{default:n(()=>[a(d,{columns:C,data:s.value.day_details,pagination:x,bordered:!1},null,8,["data"])]),_:1})]))]),_:1})}}}),te=T(Q,[["__scopeId","data-v-bb6a2cfe"]]);export{te as default};
