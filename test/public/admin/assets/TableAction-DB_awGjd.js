var $=Object.defineProperty,k=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var h=(e,n,s)=>n in e?$(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,l=(e,n)=>{for(var s in n||(n={}))B.call(n,s)&&h(e,s,n[s]);if(g)for(var s of g(n))N.call(n,s)&&h(e,s,n[s]);return e},m=(e,n)=>k(e,z(n));import{d as P,bx as T,O as f,bm as A,bs as O,bu as F,n as L,az as V,o as c,c as D,a as p,X as I,a6 as j,x as y,bz as C,w as i,j as w,i as M,y as q,bw as S,by as E,z as x,N as R,B as X,a8 as G}from"./index-BEDOAs2M.js";import{D as H}from"./DownOutlined-jyipYFFO.js";const J=P({name:"TableAction",components:{DownOutlined:H},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(e){const{hasPermission:n}=T(),s=e.style==="button"?"default":e.style==="text"?"primary":"default",u=e.style==="button"?void 0:e.style==="text"?!0:void 0,_=f(()=>({text:u,type:s,size:"small"})),b=f(()=>(A(e.dropDownActions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel})}));function a(o){const t=o.ifShow;let r=!0;return O(t)&&(r=t),F(t)&&(r=t(o)),r}return{getActions:f(()=>(A(e.actions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t||{}),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel,enable:!!t})})),getDropdownList:b,getMoreProps:_}}}),K={class:"tableAction"},Q={class:"flex items-center justify-center"},U={class:"flex items-center"};function W(e,n,s,u,_,b){const a=R,d=X,o=V("DownOutlined"),t=G;return c(),D("div",K,[p("div",Q,[(c(!0),D(I,null,j(e.getActions,(r,v)=>(c(),y(d,S({key:`${v}-${r.label}`,ref_for:!0},r,{class:"mx-1"}),C({default:i(()=>[M(q(r.label)+" ",1)]),_:2},[r.hasOwnProperty("icon")?{name:"icon",fn:i(()=>[w(a,{component:r.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),e.dropDownActions&&e.getDropdownList.length?(c(),y(t,{key:0,trigger:"hover",options:e.getDropdownList,onSelect:e.select},{default:i(()=>[E(e.$slots,"more"),e.$slots.more?x("",!0):(c(),y(d,S({key:0},e.getMoreProps,{class:"mx-1","icon-placement":"right"}),{default:i(()=>[p("div",U,[n[0]||(n[0]=p("span",null,"更多",-1)),w(a,{size:"14",class:"ml-1"},{default:i(()=>[w(o)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):x("",!0)])])}const te=L(J,[["render",W]]);export{te as T};
