var E=Object.defineProperty;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(t,a,n)=>a in t?E(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,m=(t,a)=>{for(var n in a||(a={}))T.call(a,n)&&_(t,n,a[n]);if(y)for(var n of y(a))N.call(a,n)&&_(t,n,a[n]);return t};var k=(t,a,n)=>new Promise((p,c)=>{var f=s=>{try{l(n.next(s))}catch(u){c(u)}},d=s=>{try{l(n.throw(s))}catch(u){c(u)}},l=s=>s.done?p(s.value):Promise.resolve(s.value).then(f,d);l((n=n.apply(t,a)).next())});import{B as A}from"./Table-BcXbUTxg.js";import{T as B}from"./TableAction-CTGB6Be_.js";import{g as S}from"./list-CTAqyRv6.js";import{s as r,aZ as q,v as b,d as z,r as w,b as h,o as D,x as K,w as M,j as V,h as C,q as j}from"./index-FB6W5mBG.js";import"./vuedraggable.umd-C_5yRcwU.js";import"./useDesignSetting-BvT0Exi7.js";import"./propTypes-j0pcPl7w.js";import"./componentSetting-CQq0JJwW.js";import"./index-BgGIYSO9.js";import"./DownOutlined-BL5GVzwF.js";const I={male:"男",female:"女",unknown:"未知"},L={close:"已取消",refuse:"已拒绝",pass:"已通过"},P=[{title:"id",key:"id"},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0},{title:"头像",key:"avatar",render(t){return r(q,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return r(b,{type:t.sex==="male"?"info":"error"},{default:()=>I[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city",editComponent:"NSelect",editComponentProps:{options:[{label:"深圳市",value:1},{label:"广州市",value:2}]},editRow:!0,edit:!0,width:220},{title:"状态",key:"status",render(t){return r(b,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>L[t.status]})}},{title:"创建时间",key:"createDate"}],Y=z({__name:"editRow",setup(t){const a=w(),n=w(""),p=h({pageSize:5,name:"NaiveAdmin"}),c=h({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return r(B,{style:"button",actions:u(e)})}});function f(e){var i;n.value=e.key,(i=e.onEdit)==null||i.call(e,!0)}function d(e){var i;n.value="",(i=e.onEdit)==null||i.call(e,!1,!1)}function l({column:e,value:i,record:o}){e.key==="id"&&(o.editValueRefs.name4.value=`${i}`),console.log(e,i,o)}function s(e){return k(this,null,function*(){var o;(yield(o=e.onEdit)==null?void 0:o.call(e,!1,!0))&&(n.value="")})}function u(e){return e.editable?[{label:"保存",onClick:s.bind(null,e)},{label:"取消",onClick:d.bind(null,e)}]:[{label:"编辑",onClick:f.bind(null,e)}]}const v=e=>k(this,null,function*(){return yield S(m(m({},p),e))});function g(e){console.log(e)}function x({value:e}){console.log(e)}return(e,i)=>{const o=j;return D(),K(o,{bordered:!1,class:"proCard"},{default:M(()=>[V(C(A),{title:"表格列表",titleTooltip:"这是一个提示",columns:C(P),request:v,"row-key":R=>R.id,ref_key:"actionRef",ref:a,actionColumn:c,onEditEnd:x,onEditChange:l,"onUpdate:checkedRowKeys":g,"scroll-x":1590},null,8,["columns","row-key","actionColumn"])]),_:1})}}});export{Y as default};
