var $=Object.defineProperty,k=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var h=(e,n,s)=>n in e?$(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,l=(e,n)=>{for(var s in n||(n={}))N.call(n,s)&&h(e,s,n[s]);if(g)for(var s of g(n))P.call(n,s)&&h(e,s,n[s]);return e},m=(e,n)=>k(e,B(n));import{d as T,bw as z,O as f,bl as A,br as O,bt as F,n as L,au as V,o as c,c as D,a as p,a1 as I,aH as j,x as y,by as C,w as i,j as _,i as M,y as q,bv as S,bx as E,z as v,N as H,B as R,aw as G}from"./index-FB6W5mBG.js";import{D as J}from"./DownOutlined-BL5GVzwF.js";const K=T({name:"TableAction",components:{DownOutlined:J},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(e){const{hasPermission:n}=z(),s=e.style==="button"?"default":e.style==="text"?"primary":"default",u=e.style==="button"?void 0:e.style==="text"?!0:void 0,w=f(()=>({text:u,type:s,size:"small"})),b=f(()=>(A(e.dropDownActions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel})}));function a(o){const t=o.ifShow;let r=!0;return O(t)&&(r=t),F(t)&&(r=t(o)),r}return{getActions:f(()=>(A(e.actions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t||{}),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel,enable:!!t})})),getDropdownList:b,getMoreProps:w}}}),Q={class:"tableAction"},U={class:"flex items-center justify-center"},W={class:"flex items-center"};function X(e,n,s,u,w,b){const a=H,d=R,o=V("DownOutlined"),t=G;return c(),D("div",Q,[p("div",U,[(c(!0),D(I,null,j(e.getActions,(r,x)=>(c(),y(d,S({key:`${x}-${r.label}`,ref_for:!0},r,{class:"mx-1"}),C({default:i(()=>[M(q(r.label)+" ",1)]),_:2},[r.hasOwnProperty("icon")?{name:"icon",fn:i(()=>[_(a,{component:r.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),e.dropDownActions&&e.getDropdownList.length?(c(),y(t,{key:0,trigger:"hover",options:e.getDropdownList,onSelect:e.select},{default:i(()=>[E(e.$slots,"more"),e.$slots.more?v("",!0):(c(),y(d,S({key:0},e.getMoreProps,{class:"mx-1","icon-placement":"right"}),{default:i(()=>[p("div",W,[n[0]||(n[0]=p("span",null,"更多",-1)),_(a,{size:"14",class:"ml-1"},{default:i(()=>[_(o)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):v("",!0)])])}const te=L(K,[["render",X]]);export{te as T};
