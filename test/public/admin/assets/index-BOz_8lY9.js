import{E as S,e as E}from"./excel-sBU7peUc.js";import{S as $}from"./SearchOutlined-B5xKrHun.js";import{d as z,u as B,r as d,c as N,j as e,w as t,q as R,o as D,h as g,i as _,y as T,W as I,l as K,N as O,B as P,D as U,_ as V,$ as j}from"./index-BUaCiTCS.js";import"./xlsx-DaVhO591.js";const G=z({__name:"index",setup(q){const r=B(),l=d(null),a=d([]),s=d([{date:"2025-09-30",register_count:0,first_time:"2025-09-30 08:00:13",create_time:"2025-09-30 08:00:13"},{date:"2025-09-29",register_count:0,first_time:"2025-09-29 08:00:13",create_time:"2025-09-29 08:00:13"},{date:"2025-09-28",register_count:0,first_time:"2025-09-28 08:00:13",create_time:"2025-09-28 08:00:13"},{date:"2025-09-27",register_count:0,first_time:"2025-09-27 08:00:13",create_time:"2025-09-27 08:00:13"},{date:"2025-09-26",register_count:0,first_time:"2025-09-26 08:00:13",create_time:"2025-09-26 08:00:13"},{date:"2025-09-25",register_count:0,first_time:"2025-09-25 08:00:13",create_time:"2025-09-25 08:00:13"},{date:"2025-09-24",register_count:1,first_time:"2025-09-24 15:50:43",create_time:"2025-09-24 08:00:07"},{date:"2025-09-23",register_count:0,first_time:"2025-09-23 08:00:07",create_time:"2025-09-23 08:00:07"},{date:"2025-09-22",register_count:0,first_time:"2025-09-22 23:05:07",create_time:"2025-09-22 23:05:07"},{date:"2025-09-21",register_count:0,first_time:"2025-09-21 08:00:08",create_time:"2025-09-21 08:00:08"},{date:"2025-09-20",register_count:0,first_time:"2025-09-20 08:00:08",create_time:"2025-09-20 08:00:08"},{date:"2025-09-19",register_count:0,first_time:"2025-09-19 08:00:08",create_time:"2025-09-19 08:00:08"},{date:"2025-09-18",register_count:1,first_time:"2025-09-18 11:00:08",create_time:"2025-09-18 08:00:08"},{date:"2025-09-17",register_count:0,first_time:"2025-09-17 08:00:08",create_time:"2025-09-17 08:00:08"},{date:"2025-09-16",register_count:1,first_time:"2025-09-17 03:47:38",create_time:"2025-09-16 08:00:08"},{date:"2025-09-15",register_count:1,first_time:"2025-09-15 21:18:38",create_time:"2025-09-15 08:00:02"}]),k=[{type:"selection"},{title:"日期",key:"date",width:150},{title:"注册人数",key:"register_count",width:150},{title:"首次时间",key:"first_time",width:200},{title:"创建时间",key:"create_time",width:200}],y={page:1,pageSize:10,pageCount:2,itemCount:s.value.length,showSizePicker:!0,pageSizes:[10,20,50]};function v(){console.log("查询，日期范围:",l.value),r.info("查询功能待API实现")}function h(){l.value=null,console.log("重置筛选")}function w(){try{let o=s.value;if(a.value.length>0?(o=s.value.filter(c=>a.value.includes(c.date)),console.log(`导出选中的 ${o.length} 条数据`)):console.log("导出全部数据"),o.length===0){r.warning("没有可导出的数据");return}E(o,[{title:"日期",key:"date"},{title:"注册人数",key:"register_count"},{title:"首次时间",key:"first_time"},{title:"创建时间",key:"create_time"}],"注册统计"),r.success(`已导出 ${o.length} 条数据`),a.value=[]}catch(o){console.error("导出失败:",o),r.error("导出失败，请重试")}}return(o,n)=>{const c=I,p=K,f=O,u=P,m=U,x=V,C=j,b=R;return D(),N("div",null,[e(b,{bordered:!1,class:"proCard",title:"注册统计"},{default:t(()=>[e(m,{vertical:"",size:"large"},{default:t(()=>[e(x,{inline:"","label-placement":"left"},{default:t(()=>[e(p,{label:"创建时间"},{default:t(()=>[e(c,{value:l.value,"onUpdate:value":n[0]||(n[0]=i=>l.value=i),type:"daterange",clearable:"",style:{width:"400px"}},null,8,["value"])]),_:1}),e(p,null,{default:t(()=>[e(m,null,{default:t(()=>[e(u,{type:"primary",onClick:v},{icon:t(()=>[e(f,null,{default:t(()=>[e(g($))]),_:1})]),default:t(()=>[n[2]||(n[2]=_(" 查询 "))]),_:1}),e(u,{onClick:h},{default:t(()=>n[3]||(n[3]=[_("重置")])),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(u,{onClick:w},{icon:t(()=>[e(f,null,{default:t(()=>[e(g(S))]),_:1})]),default:t(()=>[n[4]||(n[4]=_(" 导出 "))]),_:1}),_(" "+T(a.value.length>0?`(已选${a.value.length}项)`:""),1)]),_:1}),e(C,{columns:k,data:s.value,pagination:y,bordered:!1,"row-key":i=>i.date,"checked-row-keys":a.value,"onUpdate:checkedRowKeys":n[1]||(n[1]=i=>a.value=i)},null,8,["data","row-key","checked-row-keys"])]),_:1})]),_:1})])}}});export{G as default};
